"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[5786],{22578:(e,t,a)=>{a.d(t,{$:()=>m});var n=a(67294),l=a(64593),r=a(96206),i=a(69691),s=a(8341),c=a(89952),o=a(51615),u=a(24183);function d(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const m=({children:e,usePlayingItem:t})=>{let a=d(e);(e=>{const{mainLandmarkRef:t}=(0,u.Oh)(),a=(0,o.k6)(),l=a.location?.state?.preventMoveFocus,r=(0,n.useRef)(a.length<2);r.current=a.length<2,(0,n.useEffect)((()=>{const a=t.current;!l&&!r.current&&a&&e&&(a.setAttribute("aria-label",e),a.focus())}),[e,t,l])})(e);const{isPlaying:m}=(0,i.IK)(),g=(0,s.Y)((e=>e?.item));return g&&(m||t)&&((0,c.G_)(g)?a=[g.name,g.artists.map((e=>e.name)).join(r.ag.getSeparator())].join(" • "):(0,c.iw)(g)?a=[g.name,g.show.name].join(" • "):(0,c.k6)(g)&&(a=d(r.ag.get("ad-formats.advertisement")))),n.createElement(l.q,{defaultTitle:"Spotify",defer:!1},n.createElement("title",null,a))}},7279:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var n=a(67294),l=a(51615),r=a(96206),i=a(42922),s=a(84242),c=a(44527),o=a(22578),u=a(87462),d=a(62031),m=a(8498),g=a(11186),f=a(19480),p=a(94184),y=a.n(p),k=a(45464),b=a(33268),E=a(63996),C=a(80523),h=a(40525),P=a(99191),I=a(85592),S=a(54444);const v=e=>{const{onClick:t=(()=>{}),onContextMenu:a=(()=>{}),onTouchStart:l=(()=>{}),onTouchEnd:r=(()=>{}),delegatePlayback:i=!1,isPlaying:c,onPlay:o=(()=>{}),featureIdentifier:u,uri:d,renderCardImage:m,renderSubHeaderContent:g=(()=>null),isPlayable:f=!0,isDownloadable:p=!1,headerText:v,hasNewEpisodeIndicator:w=!1,className:x,playUri:N=d,albumURI:T,testId:Z,ariaPlayLabel:U,ariaPauseLabel:_,index:L,requestId:M}=e,$=T?`?highlight=${d}`:"",j=(0,P.O1)([d],v),{spec:q,logger:D,UBIFragment:F}=(0,S.fU)(k.createDesktopPlayandnavcardEventFactory,{data:{uri:d,position:L,reason:M??""}}),{isPlaying:H}=(0,s.n)({uri:N},{featureIdentifier:u});let z=H;i&&"boolean"==typeof c&&(z=c);const B=(0,n.useCallback)((()=>{o&&o(d,{})}),[o,d]),O=(0,S.Wi)(q);return n.createElement(F,{spec:q},n.createElement("div",{ref:O,className:y()(C.Z.card,x),onContextMenu:a,onTouchStart:l,onTouchEnd:r,"data-testid":Z},n.createElement("div",{draggable:!0,onDragStart:j,className:C.Z.draggable},m(),n.createElement("div",{className:C.Z.cardMetadata},n.createElement(b.O,{to:T||d,search:$,onClick:t,isHero:!0,title:v,hasNewEpisodeIndicator:w},v),n.createElement(E.i,null,g(D,q))),p&&n.createElement(h.$,{uri:d,className:C.Z.DownloadStatusIndicator,size:16}),f&&n.createElement("div",{className:y()(C.Z.PlayButtonContainer,{[C.Z.PlayButtonContainerVisible]:z})},n.createElement(I.fh,{isPlaying:z,onClick:B,ariaPlayLabel:U,ariaPauseLabel:_})),n.createElement("div",{onClick:t,className:C.Z.cardLink,"data-testid":"herocard-click-handler"}))))},w=({template:{originalTrackUri:e,imageUri:t,title:a},usePlayContext:l,index:r,onClick:i})=>{const{togglePlay:s}=l({uri:e},{featureIdentifier:"debug"});return n.createElement(v,{index:r,onClick:i,onPlay:()=>s(),headerText:"",featureIdentifier:"playlist",uri:e||"",isDownloadable:!0,renderCardImage:()=>n.createElement(m.x,{isHero:!0,images:[{url:t}],FallbackComponent:e=>n.createElement(d.U,(0,u.Z)({iconSize:64},e))}),renderSubHeaderContent:()=>n.createElement(g.k,null,a),testId:"testId",requestId:"requestId"})},x=({templates:e,onClick:t,usePlayContext:a})=>{const l=(0,n.useMemo)((()=>e.map(((e,l)=>n.createElement(w,{key:e.key,usePlayContext:a,template:e,index:l,onClick:()=>t(e.soundtrapProjectId)})))),[e,t,a]);return n.createElement(f.P,{title:"Create a cover song",onClickShelfTitle:()=>{},onClickShelfSeeAll:()=>{}},l)},N=n.memo((()=>{const e=(0,l.k6)(),[t,a]=(0,n.useState)([]),[u,d]=(0,n.useState)(!0),[m,g]=(0,n.useState)(!1),f=(0,n.useCallback)((async t=>{e.push(`/make-music/studio/${t}`)}),[e]),p=(0,c.z)(),y=(0,n.useCallback)((async()=>{g(!1),d(!0);try{const e=await p.getTemplates({query:"",page_number:0,result_per_page:6,sort_by:""});a(e.projects)}catch(e){g(!0)}d(!1)}),[p]);return(0,n.useEffect)((()=>{y()}),[p,y]),n.createElement(n.Fragment,null,n.createElement(o.$,null,r.ag.get("web-player.soundtrap.title")),n.createElement(i.ZP,{value:"make-music-page"},n.createElement("div",{className:"contentSpacing",id:"makeMusicPage"},n.createElement(n.Suspense,{fallback:null},n.createElement(x,{templates:t,onClick:f,usePlayContext:s.n})))))}))}}]);
//# sourceMappingURL=xpui-routes-make-music.js.map