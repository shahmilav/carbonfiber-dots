"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[6984],{54543:(e,t,n)=>{n.d(t,{q:()=>v});var a=n(87462),r=n(67294),i=n(69518),s=n.n(i),l=n(63495),c=n(36590),o=n(8498),m=n(13781),d=n(11186);const u=({name:e="",uri:t="",images:n=[],isHero:a,onClick:i,testId:s,index:l})=>a?r.createElement(m.Z,{featureIdentifier:"unknown",index:l,onClick:i,headerText:e,uri:t,isPlayable:!1,renderCardImage:()=>r.createElement(o.x,{isHero:a,images:n}),renderSubHeaderContent:()=>r.createElement(d.k,null),testId:s}):r.createElement(c.C,{index:l,featureIdentifier:"unknown",onClick:i,headerText:e,uri:t,isPlayable:!1,renderCardImage:()=>r.createElement(o.x,{isHero:a,images:n}),renderSubHeaderContent:()=>r.createElement("span",null),testId:s});var g=n(73425),p=n(143),E=n(64269),f=n(3634),I=n(89477),y=n(16061),h=n(46309),x=n(30523),b=n(52778),C=n(95332),k=n(46327);const v=({entity:e,index:t,testId:n,isHero:i=!1})=>{const c=(s().from(e.uri)||{}).type,o={testId:n,isHero:i,index:t,sharingInfo:e.sharingInfo};switch(c){case s().Type.ALBUM:case s().Type.COLLECTION_ALBUM:{const t=e;return r.createElement(f.r,(0,a.Z)({},o,{name:t.name,uri:t.uri,images:t.images,artists:t.artists}))}case s().Type.ARTIST:{const t=e;return r.createElement(I.I,(0,a.Z)({},o,{name:t.name,uri:t.uri,images:t.images}))}case s().Type.EPISODE:{const t=e;return r.createElement(y.B,(0,a.Z)({},o,{name:t.name,uri:t.uri,images:t.images,showImages:t.show?.images||[],durationMilliseconds:t.duration_ms,releaseDate:t.release_date,resume_point:t.resume_point,description:t.description,isExplicit:t.explicit,is19PlusOnly:!!t.tags?.includes("MOGEF-19+")}))}case s().Type.PLAYLIST:case s().Type.PLAYLIST_V2:{const t=e,n=t.owner?.display_name||e.owner?.displayName||"";return r.createElement(h.Z,(0,a.Z)({},o,{name:t.name,uri:t.uri,images:t.images,description:t.description,authorName:n}))}case s().Type.USER:return r.createElement(x.P,(0,a.Z)({},o,{name:e.name,uri:e.uri,images:e.images}));case s().Type.SHOW:{const t=e;return r.createElement(C._,(0,a.Z)({},o,{name:t.name,uri:t.uri,images:t.images,publisher:t.publisher,mediaType:{audio:p.E.AUDIO,video:p.E.VIDEO,mixed:p.E.MIXED}[t.media_type]??p.E.AUDIO}))}case s().Type.APPLICATION:return r.createElement(l.s,(0,a.Z)({},o,{name:e.name,uri:e.uri,images:e.images,description:e.description}));case s().Type.RADIO:return r.createElement(b.I,{testId:n,index:t,name:e.name,uri:e.uri,images:e.images});case s().Type.TRACK:{const t=e;return r.createElement(k.G,(0,a.Z)({},o,{name:t.name,uri:t.uri,images:t.album?.images||[],artists:t.artists,album:t.album,isExplicit:t.explicit,is19PlusOnly:t.tags?.includes("MOGEF-19+")}))}case s().Type.COLLECTION:return e.uri.endsWith("your-episodes")?r.createElement(E.T,{index:t}):r.createElement(g.p,{index:t});default:return console.warn("Rendering a generic Card for unknown type:",c),r.createElement(u,(0,a.Z)({},o,{name:e.name,uri:e.uri,images:e.images}))}}},16061:(e,t,n)=>{n.d(t,{B:()=>P});var a=n(87462),r=n(67294),i=n(96206),s=n(18261),l=n(87257),c=n(57978),o=n(80418),m=n(34325),d=n(43315),u=n(49961),g=n(25988),p=n(36590),E=n(8498),f=n(28760),I=n(97605),y=n(85392);const h="z4popIk32AsyDKlV1o1v",x="_xxuonqkZEQ7pCffxlUD",b=r.memo((function(e){const{src:t,description:n,...i}=e,[s,l]=(0,r.useState)("inherit");return(0,r.useEffect)((()=>{t&&async function(e){const{colorRaw:t}=await(0,y.b)(e),{h:n,s:a,l:r}=t.hsl,i=`hsl(${360*n}, ${100*a}%, ${Math.min(100*r,30)}%)`;l(i)}(t)}),[t]),t?r.createElement("div",{className:h,style:{backgroundColor:s},"data-testid":"episode-fallback-image-container"},r.createElement("div",{className:x},r.createElement(f.Dy,{as:"p",variant:"canon"},n))):r.createElement(I.J,(0,a.Z)({},i,{iconSize:64}))}));var C=n(13781),k=n(11186);const v="x1FErCk9Xh9VumpOLyfm",w="heeHk6hz8sAXLIU6P6an",T="Hhfi1xnYwoHoMP2rcltS",P=({description:e,isExplicit:t,images:n,name:f,uri:I,durationMilliseconds:y,releaseDate:h,resume_point:x,showImages:P,sharingInfo:N,is19PlusOnly:S,isHero:_,onClick:H,testId:L,index:Z,requestId:A})=>{let D;const O=h?new Date(h):void 0,q=O&&!isNaN(O.getTime())&&!isNaN(y),M=(0,u.X)(P,{desiredSize:48}),R=(0,m.G3)(I,O?.toISOString(),x?.resume_position_ms,x?.fully_played);return D=_?r.createElement(C.Z,{index:Z,onClick:H,headerText:f,featureIdentifier:"episode",uri:I,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:R,renderCardImage:()=>r.createElement(E.x,{isHero:!0,images:n,FallbackComponent:t=>r.createElement(b,(0,a.Z)({},t,{description:e,src:M&&M.url}))},M&&r.createElement(o.E,{loading:"lazy",src:M.url,className:v,radius:4})),renderSubHeaderContent:()=>r.createElement(r.Fragment,null,t&&!S&&r.createElement(l.N,{className:w}),S&&r.createElement(c.X,{size:16,className:w}),q&&r.createElement("span",{className:T},O&&(0,d.rL)(O)," ·"," ",i.ag.get("episode.length",Math.ceil(y/6e4))),r.createElement(k.k,null,i.ag.get("card.tag.episode"))),testId:L,requestId:A}):r.createElement(p.C,{index:Z,onClick:H,headerText:f,featureIdentifier:"episode",uri:I,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:R,renderCardImage:()=>r.createElement(E.x,{images:n,FallbackComponent:t=>r.createElement(b,(0,a.Z)({},t,{description:e,src:M&&M.url}))},M&&r.createElement(o.E,{loading:"lazy",src:M.url,className:v,radius:4,testid:"episode-card-show-image"})),renderSubHeaderContent:()=>r.createElement(r.Fragment,null,t&&!S&&r.createElement(l.N,{className:w}),S&&r.createElement(c.X,{size:16,className:w}),q&&r.createElement("span",{className:T},O&&(0,d.rL)(O)," ·"," ",i.ag.get("episode.length",Math.ceil(y/6e4)))),testId:L,requestId:A}),r.createElement(s._,{menu:r.createElement(g.k,{uri:I,sharingInfo:N})},D)}},63495:(e,t,n)=>{n.d(t,{s:()=>o});var a=n(67294),r=n(96206),i=n(36590),s=n(8498),l=n(13781),c=n(11186);const o=({name:e,uri:t,images:n,isHero:o,onClick:m,testId:d,description:u,index:g,requestId:p})=>o?a.createElement(l.Z,{featureIdentifier:"genre",index:g,onClick:m,headerText:e,uri:t,isPlayable:!1,renderCardImage:()=>a.createElement(s.x,{isHero:o,images:n}),renderSubHeaderContent:()=>a.createElement(c.k,null,u||r.ag.get("card.tag.genre")),testId:d,requestId:p}):a.createElement(i.C,{index:g,featureIdentifier:"genre",onClick:m,headerText:e,uri:t,isPlayable:!1,renderCardImage:()=>a.createElement(s.x,{isHero:o,images:n}),renderSubHeaderContent:()=>a.createElement("span",null,u||""),testId:d,requestId:p})},30523:(e,t,n)=>{n.d(t,{P:()=>g});var a=n(87462),r=n(67294),i=n(5843),s=n(96206),l=n(18261),c=n(43480),o=n(36590),m=n(8498),d=n(13781),u=n(11186);const g=r.memo((function(e){const{images:t,name:n,uri:g,onClick:p,isHero:E,testId:f,index:I,requestId:y}=e;let h;const x=(0,r.useCallback)((()=>r.createElement(m.x,{isCircular:!0,isHero:E,images:t,FallbackComponent:e=>r.createElement(i.a,(0,a.Z)({iconSize:64},e))})),[t,E]),b=(0,r.useCallback)((()=>E?r.createElement(u.k,null,s.ag.get("card.tag.profile")):s.ag.get("card.tag.profile")),[E]);return h=E?r.createElement(d.Z,{index:I,onClick:p,headerText:n,featureIdentifier:"profile",uri:g,isPlayable:!1,renderCardImage:x,renderSubHeaderContent:b,testId:f,requestId:y}):r.createElement(o.C,{index:I,onClick:p,headerText:n,featureIdentifier:"profile",uri:g,isPlayable:!1,renderCardImage:x,renderSubHeaderContent:b,testId:f,requestId:y}),r.createElement(l._,{menu:r.createElement(c.I,{uri:g})},h)}))},22578:(e,t,n)=>{n.d(t,{$:()=>u});var a=n(67294),r=n(64593),i=n(96206),s=n(69691),l=n(8341),c=n(89952),o=n(51615),m=n(24183);function d(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const u=({children:e,usePlayingItem:t})=>{let n=d(e);(e=>{const{mainLandmarkRef:t}=(0,m.Oh)(),n=(0,o.k6)(),r=n.location?.state?.preventMoveFocus,i=(0,a.useRef)(n.length<2);i.current=n.length<2,(0,a.useEffect)((()=>{const n=t.current;!r&&!i.current&&n&&e&&(n.setAttribute("aria-label",e),n.focus())}),[e,t,r])})(e);const{isPlaying:u}=(0,s.IK)(),g=(0,l.Y)((e=>e?.item));return g&&(u||t)&&((0,c.G_)(g)?n=[g.name,g.artists.map((e=>e.name)).join(i.ag.getSeparator())].join(" • "):(0,c.iw)(g)?n=[g.name,g.show.name].join(" • "):(0,c.k6)(g)&&(n=d(i.ag.get("ad-formats.advertisement")))),a.createElement(r.q,{defaultTitle:"Spotify",defer:!1},a.createElement("title",null,n))}},70369:(e,t,n)=>{n.d(t,{$:()=>a.$});var a=n(22578)},86964:(e,t,n)=>{n.d(t,{c:()=>b});var a=n(67294),r=n(54543),i=n(18686),s=n(54358),l=n(42922),c=n(21794),o=n(43076),m=n(28760),d=n(87577),u=n(49207),g=n(67892);const p="EPMDgp7znILo0hvyirzv",E="noUm6pjQ6KWq7mVxYDor",f="PqnKjxzJ1Zvr9qKRlRbO",I="uuBQS9Ym_VPmAQrLhPQb",y=e=>(0,d.W6)(u.sE)?a.createElement(g.Z,{to:e.uri,target:"_blank",className:p},a.createElement("div",{className:E}),a.createElement(m.Dy,{className:f,as:"h2",variant:"alto"},e.label),a.createElement(m.Dy,{className:I,as:"p",variant:"mesto"},e.tagline)):null,h=e=>a.createElement(a.Suspense,{fallback:null},a.createElement(y,e)),x=e=>e.id?.startsWith("scc-corona"),b=({spaces:e,viewName:t,viewId:n,isAnonymous:m})=>{const d=(0,a.useCallback)(((e,t)=>{const i=((e,t)=>{let{uri:n}=e;return e.href.includes("https://api.spotify.com/v1/views/")&&(n=e.href.replace("https://api.spotify.com/v1/views/","spotify:genre:"),"hub-browse-grid"===t&&(n=n.replace(":view:",":genre:"))),n})(e,n);return a.createElement(r.q,{key:e.href,index:t,entity:{...e,uri:i}})}),[n]),u=(0,a.useCallback)(((e,t)=>a.createElement(l.JL,{key:e.uri||t,value:"card",index:t},a.createElement(r.q,{index:t,entity:e}))),[]),g=(0,a.useCallback)(((e,t)=>"link"===e.type?d(e,t):u(e,t)),[u,d]),p=(0,a.useCallback)((e=>!!x(e)||!((e=>"HEADER"===e.rendering)(e)||0===e.content.total||m&&"uniquely-yours-shelf"===e.id)),[m]);return e&&0!==e.length?e[0].content?a.createElement(a.Fragment,null,e.filter(p).map(((e,t)=>{const r=e.content&&(0,c.p)((0,c.S)(e.href));if(e.id===s.RECENTLY_PLAYED_VIEW_ID||e.id===o.u)return a.createElement(l.JL,{value:"headered-grid",index:t,key:e.id},a.createElement(s.RecentlyPlayed,{showAll:!1,index:t}));if(x(e)){const t=e.content.items[0];return t&&t.name&&t.description&&t.href?a.createElement(h,{key:"corona-banner",label:t.name,tagline:t.description,uri:t.href}):null}return a.createElement(l.JL,{value:"headered-grid",index:t,key:e.id},a.createElement(i.q,{total:e.content.total,seeAllUri:r,pageId:n,title:e.name,tagline:e.tag_line||void 0,index:t,id:e.id},e.content.items.map(g)))}))):a.createElement(l.JL,{value:"headered-grid"},a.createElement(i.q,{showAll:!0,title:t,total:e?.length||0,index:0,id:n??"spaces-see-all-grid"},e?.map(g))):null}},23809:(e,t,n)=>{n.d(t,{P:()=>u});var a=n(67294),r=n(26991),i=n(88767),s=n(87961),l=n(94321),c=n(29255),o=n(86706),m=n(87577),d=n(8247);const u=(e,t)=>{const n=(()=>{const e=(0,m.W6)(d.Xf),t=(0,o.v9)(l.rZ),{locale:n,overrides:r}=(0,o.v9)(c.Gg),i=r?.country||t,s=r?.locale||n;return(0,a.useMemo)((()=>{const t=["album","playlist","artist","show","station","episode"];return e&&t.push("uri_link"),{country:i,locale:s,types:t.join(",")}}),[i,e,s])})(),{data:u,fetchNextPage:g}=(0,i.useInfiniteQuery)(["useView",e,n],(async({pageParam:t})=>void 0===t?async function(e,t){const{body:n}=await r.kO.getView(s.b.getInstance(),e,t);return n}(e,n):async function(e){const{body:t}=await r.TV.getGeneric(s.b.getInstance(),e);return t}(t)),{cacheTime:t?.cacheTime??18e5,staleTime:t?.staleTime??3e5,getNextPageParam:e=>e.content.next??void 0,getPreviousPageParam:e=>e.content.previous??void 0});return{view:(0,a.useMemo)((()=>u?.pages.reduce(((e,t)=>({...e,content:{...e.content,href:t.content.href,next:t.content.next,offset:t.content.offset,previous:t.content.previous,total:t.content.total,items:e.content.items.concat(t.content.items)}})))),[u?.pages]),getNextPage:g}}}}]);
//# sourceMappingURL=6984.js.map