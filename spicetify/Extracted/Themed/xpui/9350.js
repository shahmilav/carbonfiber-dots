"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[9350],{90110:(e,t,a)=>{a.d(t,{q:()=>b,o:()=>R});var n=a(67294),l=a(94184),c=a.n(l),o=a(69518),r=a.n(o),s=a(10986),E=a(59823),i=a(96206),S=a(4236),d=a(83692),I=a(26010),_=a(69010),m=a(80946),u=a(6116),Z=a(38209),g=a(40080);const w="l_MW0G9qeeCKlVJwBykT",f="BKsbV2Xl786X9a09XROH",p="x-downloadButton-DownloadButton",N="_APVWqivXc4YqgsnpFkP",h="VmwiDoU6RpqyzK_n7XRO",C="rEx3EYgBzS8SoY7dmC6x",O="z3zia5snl987x676qe5w";let b;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(b||(b={}));const D=e=>{const{currentTarget:t,detail:a}=e;a>0&&t&&t.blur()},R=({uri:e,isFollowing:t,canDownload:a,onFollow:l,size:o=b.sm,className:R,onClick:k=(()=>{})})=>{const y={"--size":`${o}px`},{useDownloading:A,useDownloadCapability:v}=(0,n.useContext)(I.I),[L,x]=(0,n.useState)(!1),[z,T]=v(r().isEpisode(e)),[U,V]=(0,n.useState)(!1),{currentAvailability:$,progress:q,beginDownload:B,clearDownload:M}=A(e);((e,t)=>{const a=(0,Z.r)(),l=(0,n.useRef)(!1);(0,n.useEffect)((()=>{e===_.V8.DOWNLOADING&&!1===l.current&&(l.current=!0,a.say(i.ag.get("download.downloading",t.totalItems)))}),[a,e,t]);const c=(0,g.D)(e);(0,n.useEffect)((()=>{c===_.V8.DOWNLOADING&&e===_.V8.YES&&(l.current=!1,a.say(i.ag.get("download.complete")))}),[a,c,e])})($,q);const Y=(0,n.useCallback)((e=>{T===_.v$.DOWNLOADING_NOT_ALLOWED?(V(!0),k(e,_.mc.notAllowed)):(!1===t?(l(),x(!0)):B(),k(e,_.mc.download)),D(e)}),[B,T,t,k,l]),F=(0,n.useCallback)((e=>{M(),D(e),k(e,_.mc.clear)}),[M,k]);(0,n.useEffect)((()=>{!0===L&&!0===t&&(B(),x(!1))}),[t,L,B]);const G=(0,S.k)(),K="boolean"==typeof a?a:G,P=$===_.V8.YES;return z===_.PQ.NO_DOWNLOAD_CAPABILITY?null:K||P?T===_.v$.DOWNLOADING_NOT_ALLOWED?n.createElement("div",{className:f},n.createElement(d.w,{label:i.ag.get("download.download")},n.createElement("button",{className:c()(p,R),role:"switch",onClick:Y,"aria-label":i.ag.get("download.download"),"aria-checked":!1},n.createElement(s.D,{iconSize:o}))),U&&n.createElement("div",{className:O},n.createElement(m.E,{withTopLeftPointer:!0,horizontal:!0,onClose:()=>{V(!1)}},i.ag.get("download.upsell")))):P?n.createElement(d.w,{label:i.ag.get("download.remove")},n.createElement("button",{className:c()(p,R,N),role:"switch",onClick:F,"aria-label":i.ag.get("download.remove"),"aria-checked":!0},n.createElement(E.E,{iconSize:o}))):$===_.V8.NO?n.createElement(d.w,{label:i.ag.get("download.download")},n.createElement("button",{className:c()(p,R),role:"switch",onClick:Y,"aria-label":i.ag.get("download.download"),"aria-checked":!1},n.createElement(s.D,{iconSize:o}))):n.createElement("div",{className:c()(h,R),role:"switch","aria-checked":!0},n.createElement(d.w,{label:i.ag.get("download.cancel")},n.createElement("button",{style:y,className:c()(p,w,R),onClick:F,"aria-label":i.ag.get("download.cancel")})),n.createElement("span",{style:y,className:c()(C,w)},n.createElement(u.e,{"aria-valuetext":i.ag.get("progress.downloading-tracks"),percentage:q.percentage,size:o}))):null}},22578:(e,t,a)=>{a.d(t,{$:()=>d});var n=a(67294),l=a(64593),c=a(96206),o=a(69691),r=a(8341),s=a(89952),E=a(51615),i=a(24183);function S(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const d=({children:e,usePlayingItem:t})=>{let a=S(e);(e=>{const{mainLandmarkRef:t}=(0,i.Oh)(),a=(0,E.k6)(),l=a.location?.state?.preventMoveFocus,c=(0,n.useRef)(a.length<2);c.current=a.length<2,(0,n.useEffect)((()=>{const a=t.current;!l&&!c.current&&a&&e&&(a.setAttribute("aria-label",e),a.focus())}),[e,t,l])})(e);const{isPlaying:d}=(0,o.IK)(),I=(0,r.Y)((e=>e?.item));return I&&(d||t)&&((0,s.G_)(I)?a=[I.name,I.artists.map((e=>e.name)).join(c.ag.getSeparator())].join(" • "):(0,s.iw)(I)?a=[I.name,I.show.name].join(" • "):(0,s.k6)(I)&&(a=S(c.ag.get("ad-formats.advertisement")))),n.createElement(l.q,{defaultTitle:"Spotify",defer:!1},n.createElement("title",null,a))}},44887:(e,t,a)=>{a.d(t,{O:()=>w,K:()=>g});var n=a(67294),l=a(94184),c=a.n(l),o=a(80418),r=a(7469);const s={xsmall:"g3kBhX1E4EYEC2NFhhxG",small:"O5_0cReFdHe81E0xFAD1",medium:"H71KtIrytVayf_dFofu7",large:"SBpny8HrUTBzSjk7Vtk1",square:"CxurIfvXVb_TqGF4q8Yf",circle:"OadpZJiOaGfX6Qp4j6n5",image:"iJp40IxKg6emF6KYJ414",imageContainer:"vreceNX3ABcxyddeS83B",imagePlaceholder:"p6xU6jAgF1YQ43M1zZbV"},E="Ozitxbqs1vcOukDz3GDw",i="AeEoI6ueagbJtaHl2cRd";var S=a(42781),d=a(49058),I=a(5843),_=a(97605),m=a(60898),u=a(62031);const Z=({title:e,type:t,className:a})=>{const l=(e=>{switch(e){case S.p.ALBUM:return n.createElement(d.c,{className:i});case S.p.ARTIST:return n.createElement(I.a,{className:i});case S.p.SHOW:case S.p.EPISODE:return n.createElement(_.J,{className:i});case S.p.USER:return n.createElement(m.f,{className:i});case S.p.PLAYLIST:default:return n.createElement(u.U,{className:i})}})(t);return n.createElement("div",{"aria-label":e,className:c()(E,a)},l)};let g;!function(e){e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE"}(g||(g={}));const w=n.memo((function({loadingMode:e="lazy",type:t,title:a,images:l=[],shape:E=g.SQUARE,size:i=r.m$.SIZE_56,className:S,onContextMenu:d=(()=>{}),onTouchStart:I=(()=>{}),onTouchEnd:_=(()=>{})}){const m=function(e=[]){const t=e.filter((e=>Boolean(e.width))),a=t.filter((e=>e.url&&e.width&&e.width>=r.eM[r.m$.SIZE_56])).sort(((e,t)=>e.width-t.width));return a.length?a:t}(l),u=m.length>0?m[0].url:"",w=m.map((({url:e,width:t})=>`${e} ${t/2}w, ${e} ${t}w`)).join(", "),f=()=>({[s.xsmall]:r.pj.includes(i),[s.small]:r.wL.includes(i),[s.medium]:r.VZ.includes(i),[s.large]:r.B_.includes(i)});return n.createElement("div",{className:c()(s.imageContainer,S),onContextMenu:d,onTouchStart:I,onTouchEnd:_,style:{width:`${r.eM[i]}px`,height:`${r.eM[i]}px`}},n.createElement(o.E,{loading:e,src:u,alt:a,ariaHidden:!0,className:c()(s.image,{[s.roundedCorners]:E===g.ROUNDED_CORNERS,[s.circle]:E===g.CIRCLE,[s.square]:E===g.SQUARE,...f()}),srcSet:w||void 0,testid:"entity-image"},n.createElement(Z,{title:a,type:t,className:c()({[s.roundedCorners]:E===g.ROUNDED_CORNERS,[s.circle]:E===g.CIRCLE,[s.square]:E===g.SQUARE,...f()})})))}))},7469:(e,t,a)=>{let n;a.d(t,{B_:()=>s,VZ:()=>r,eM:()=>l,m$:()=>n,pj:()=>c,wL:()=>o}),function(e){e[e.SIZE_48=0]="SIZE_48",e[e.SIZE_56=1]="SIZE_56",e[e.SIZE_64=2]="SIZE_64",e[e.SIZE_72=3]="SIZE_72",e[e.SIZE_80=4]="SIZE_80",e[e.SIZE_96=5]="SIZE_96",e[e.SIZE_104=6]="SIZE_104",e[e.SIZE_112=7]="SIZE_112",e[e.SIZE_120=8]="SIZE_120",e[e.SIZE_128=9]="SIZE_128",e[e.SIZE_136=10]="SIZE_136",e[e.SIZE_144=11]="SIZE_144",e[e.SIZE_152=12]="SIZE_152",e[e.SIZE_160=13]="SIZE_160",e[e.SIZE_168=14]="SIZE_168",e[e.SIZE_176=15]="SIZE_176",e[e.SIZE_184=16]="SIZE_184",e[e.SIZE_200=17]="SIZE_200",e[e.SIZE_232=18]="SIZE_232"}(n||(n={}));const l={[n.SIZE_48]:48,[n.SIZE_56]:56,[n.SIZE_64]:64,[n.SIZE_72]:72,[n.SIZE_80]:80,[n.SIZE_96]:96,[n.SIZE_104]:104,[n.SIZE_112]:112,[n.SIZE_120]:120,[n.SIZE_128]:128,[n.SIZE_136]:136,[n.SIZE_144]:144,[n.SIZE_152]:152,[n.SIZE_160]:160,[n.SIZE_168]:168,[n.SIZE_176]:176,[n.SIZE_184]:184,[n.SIZE_200]:200,[n.SIZE_232]:232},c=[n.SIZE_48,n.SIZE_56,n.SIZE_64],o=[n.SIZE_72,n.SIZE_80,n.SIZE_96,n.SIZE_104,n.SIZE_112,n.SIZE_120,n.SIZE_128],r=[n.SIZE_136,n.SIZE_144,n.SIZE_152,n.SIZE_160,n.SIZE_168,n.SIZE_176],s=[n.SIZE_184,n.SIZE_200,n.SIZE_232]},40080:(e,t,a)=>{a.d(t,{D:()=>l});var n=a(67294);function l(e){const t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e}),[e]),t.current}}}]);
//# sourceMappingURL=9350.js.map