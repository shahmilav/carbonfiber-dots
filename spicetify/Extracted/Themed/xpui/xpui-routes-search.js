"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2219,666],{43914:(e,n,a)=>{a.d(n,{D:()=>o});var i=a(67294),t=a(96206),l=a(76439),r=a(88503),s=a(56802),d=a(61290);const o=({id:e,children:n,targetURI:a,fadeOut:o=!1})=>{const m=(0,i.useCallback)((()=>{window.open((0,r.cd)(a).href)}),[a]),c={getTitle:()=>t.ag.get("action-trigger.available-in-app-only"),getDescription:()=>t.ag.get("action-trigger.listen-mixed-media-episode"),primaryButtonText:()=>t.ag.get("action-trigger.button.get-app"),secondaryButtonText:()=>t.ag.get("action-trigger.button.not-now"),isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,s.o)(),shouldHideOnScroll:!0,fadeOut:o};return i.createElement(l.P,{className:d.Z.container,id:e,onPrimaryButtonClick:m,options:c},n)}},67502:(e,n,a)=>{a.d(n,{c:()=>k});var i=a(67294),t=a(28760),l=a(15526),r=a(18261),s=a(28137),d=a(36590),o=a(8498),m=a(13781),c=a(11186);const u="Xk3_ws6o9K6gsByypayv",k=({name:e,uri:n,images:a,authorName:k,isHero:p,onClick:v,testId:N,index:S,requestId:g,isLocked:y=!1})=>{let f;return f=p?i.createElement(m.Z,{index:S,onClick:v,headerText:e,featureIdentifier:"audiobook",uri:n,isPlayable:!1,renderCardImage:()=>i.createElement(o.x,{isHero:!0,images:a}),renderSubHeaderContent:()=>i.createElement(i.Fragment,null,i.createElement(t.Dy,{variant:"mesto"},k),i.createElement(c.k,null,"AUDIOBOOK")),testId:N,requestId:g}):i.createElement(d.C,{index:S,onClick:v,headerText:e,featureIdentifier:"audiobook",uri:n,isPlayable:!1,renderCardImage:()=>i.createElement(o.x,{images:a}),renderSubHeaderContent:()=>i.createElement(i.Fragment,null,y&&i.createElement(l.W,{iconSize:16,className:u}),i.createElement(t.Dy,{as:"span",variant:"mesto"},k)),testId:N,requestId:g}),i.createElement(r._,{menu:i.createElement(s.X,{uri:n})},f)}},54543:(e,n,a)=>{a.d(n,{q:()=>F});var i=a(87462),t=a(67294),l=a(69518),r=a.n(l),s=a(63495),d=a(36590),o=a(8498),m=a(13781),c=a(11186);const u=({name:e="",uri:n="",images:a=[],isHero:i,onClick:l,testId:r,index:s})=>i?t.createElement(m.Z,{featureIdentifier:"unknown",index:s,onClick:l,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>t.createElement(o.x,{isHero:i,images:a}),renderSubHeaderContent:()=>t.createElement(c.k,null),testId:r}):t.createElement(d.C,{index:s,featureIdentifier:"unknown",onClick:l,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>t.createElement(o.x,{isHero:i,images:a}),renderSubHeaderContent:()=>t.createElement("span",null),testId:r});var k=a(73425),p=a(143),v=a(64269),N=a(3634),S=a(89477),g=a(16061),y=a(46309),f=a(30523),h=a(52778),b=a(95332),E=a(46327);const F=({entity:e,index:n,testId:a,isHero:l=!1})=>{const d=(r().from(e.uri)||{}).type,o={testId:a,isHero:l,index:n,sharingInfo:e.sharingInfo};switch(d){case r().Type.ALBUM:case r().Type.COLLECTION_ALBUM:{const n=e;return t.createElement(N.r,(0,i.Z)({},o,{name:n.name,uri:n.uri,images:n.images,artists:n.artists}))}case r().Type.ARTIST:{const n=e;return t.createElement(S.I,(0,i.Z)({},o,{name:n.name,uri:n.uri,images:n.images}))}case r().Type.EPISODE:{const n=e;return t.createElement(g.B,(0,i.Z)({},o,{name:n.name,uri:n.uri,images:n.images,showImages:n.show?.images||[],durationMilliseconds:n.duration_ms,releaseDate:n.release_date,resume_point:n.resume_point,description:n.description,isExplicit:n.explicit,is19PlusOnly:!!n.tags?.includes("MOGEF-19+")}))}case r().Type.PLAYLIST:case r().Type.PLAYLIST_V2:{const n=e,a=n.owner?.display_name||e.owner?.displayName||"";return t.createElement(y.Z,(0,i.Z)({},o,{name:n.name,uri:n.uri,images:n.images,description:n.description,authorName:a}))}case r().Type.USER:return t.createElement(f.P,(0,i.Z)({},o,{name:e.name,uri:e.uri,images:e.images}));case r().Type.SHOW:{const n=e;return t.createElement(b._,(0,i.Z)({},o,{name:n.name,uri:n.uri,images:n.images,publisher:n.publisher,mediaType:{audio:p.E.AUDIO,video:p.E.VIDEO,mixed:p.E.MIXED}[n.media_type]??p.E.AUDIO}))}case r().Type.APPLICATION:return t.createElement(s.s,(0,i.Z)({},o,{name:e.name,uri:e.uri,images:e.images,description:e.description}));case r().Type.RADIO:return t.createElement(h.I,{testId:a,index:n,name:e.name,uri:e.uri,images:e.images});case r().Type.TRACK:{const n=e;return t.createElement(E.G,(0,i.Z)({},o,{name:n.name,uri:n.uri,images:n.album?.images||[],artists:n.artists,album:n.album,isExplicit:n.explicit,is19PlusOnly:n.tags?.includes("MOGEF-19+")}))}case r().Type.COLLECTION:return e.uri.endsWith("your-episodes")?t.createElement(v.T,{index:n}):t.createElement(k.p,{index:n});default:return console.warn("Rendering a generic Card for unknown type:",d),t.createElement(u,(0,i.Z)({},o,{name:e.name,uri:e.uri,images:e.images}))}}},16061:(e,n,a)=>{a.d(n,{B:()=>C});var i=a(87462),t=a(67294),l=a(96206),r=a(18261),s=a(87257),d=a(57978),o=a(80418),m=a(34325),c=a(43315),u=a(49961),k=a(25988),p=a(36590),v=a(8498),N=a(28760),S=a(97605),g=a(85392);const y="z4popIk32AsyDKlV1o1v",f="_xxuonqkZEQ7pCffxlUD",h=t.memo((function(e){const{src:n,description:a,...l}=e,[r,s]=(0,t.useState)("inherit");return(0,t.useEffect)((()=>{n&&async function(e){const{colorRaw:n}=await(0,g.b)(e),{h:a,s:i,l:t}=n.hsl,l=`hsl(${360*a}, ${100*i}%, ${Math.min(100*t,30)}%)`;s(l)}(n)}),[n]),n?t.createElement("div",{className:y,style:{backgroundColor:r},"data-testid":"episode-fallback-image-container"},t.createElement("div",{className:f},t.createElement(N.Dy,{as:"p",variant:"canon"},a))):t.createElement(S.J,(0,i.Z)({},l,{iconSize:64}))}));var b=a(13781),E=a(11186);const F="x1FErCk9Xh9VumpOLyfm",I="heeHk6hz8sAXLIU6P6an",T="Hhfi1xnYwoHoMP2rcltS",C=({description:e,isExplicit:n,images:a,name:N,uri:S,durationMilliseconds:g,releaseDate:y,resume_point:f,showImages:C,sharingInfo:D,is19PlusOnly:A,isHero:R,onClick:V,testId:x,index:w,requestId:q})=>{let P;const O=y?new Date(y):void 0,U=O&&!isNaN(O.getTime())&&!isNaN(g),H=(0,u.X)(C,{desiredSize:48}),_=(0,m.G3)(S,O?.toISOString(),f?.resume_position_ms,f?.fully_played);return P=R?t.createElement(b.Z,{index:w,onClick:V,headerText:N,featureIdentifier:"episode",uri:S,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:_,renderCardImage:()=>t.createElement(v.x,{isHero:!0,images:a,FallbackComponent:n=>t.createElement(h,(0,i.Z)({},n,{description:e,src:H&&H.url}))},H&&t.createElement(o.E,{loading:"lazy",src:H.url,className:F,radius:4})),renderSubHeaderContent:()=>t.createElement(t.Fragment,null,n&&!A&&t.createElement(s.N,{className:I}),A&&t.createElement(d.X,{size:16,className:I}),U&&t.createElement("span",{className:T},O&&(0,c.rL)(O)," ·"," ",l.ag.get("episode.length",Math.ceil(g/6e4))),t.createElement(E.k,null,l.ag.get("card.tag.episode"))),testId:x,requestId:q}):t.createElement(p.C,{index:w,onClick:V,headerText:N,featureIdentifier:"episode",uri:S,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:_,renderCardImage:()=>t.createElement(v.x,{images:a,FallbackComponent:n=>t.createElement(h,(0,i.Z)({},n,{description:e,src:H&&H.url}))},H&&t.createElement(o.E,{loading:"lazy",src:H.url,className:F,radius:4,testid:"episode-card-show-image"})),renderSubHeaderContent:()=>t.createElement(t.Fragment,null,n&&!A&&t.createElement(s.N,{className:I}),A&&t.createElement(d.X,{size:16,className:I}),U&&t.createElement("span",{className:T},O&&(0,c.rL)(O)," ·"," ",l.ag.get("episode.length",Math.ceil(g/6e4)))),testId:x,requestId:q}),t.createElement(r._,{menu:t.createElement(k.k,{uri:S,sharingInfo:D})},P)}},63495:(e,n,a)=>{a.d(n,{s:()=>o});var i=a(67294),t=a(96206),l=a(36590),r=a(8498),s=a(13781),d=a(11186);const o=({name:e,uri:n,images:a,isHero:o,onClick:m,testId:c,description:u,index:k,requestId:p})=>o?i.createElement(s.Z,{featureIdentifier:"genre",index:k,onClick:m,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>i.createElement(r.x,{isHero:o,images:a}),renderSubHeaderContent:()=>i.createElement(d.k,null,u||t.ag.get("card.tag.genre")),testId:c,requestId:p}):i.createElement(l.C,{index:k,featureIdentifier:"genre",onClick:m,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>i.createElement(r.x,{isHero:o,images:a}),renderSubHeaderContent:()=>i.createElement("span",null,u||""),testId:c,requestId:p})},30523:(e,n,a)=>{a.d(n,{P:()=>k});var i=a(87462),t=a(67294),l=a(5843),r=a(96206),s=a(18261),d=a(43480),o=a(36590),m=a(8498),c=a(13781),u=a(11186);const k=t.memo((function(e){const{images:n,name:a,uri:k,onClick:p,isHero:v,testId:N,index:S,requestId:g}=e;let y;const f=(0,t.useCallback)((()=>t.createElement(m.x,{isCircular:!0,isHero:v,images:n,FallbackComponent:e=>t.createElement(l.a,(0,i.Z)({iconSize:64},e))})),[n,v]),h=(0,t.useCallback)((()=>v?t.createElement(u.k,null,r.ag.get("card.tag.profile")):r.ag.get("card.tag.profile")),[v]);return y=v?t.createElement(c.Z,{index:S,onClick:p,headerText:a,featureIdentifier:"profile",uri:k,isPlayable:!1,renderCardImage:f,renderSubHeaderContent:h,testId:N,requestId:g}):t.createElement(o.C,{index:S,onClick:p,headerText:a,featureIdentifier:"profile",uri:k,isPlayable:!1,renderCardImage:f,renderSubHeaderContent:h,testId:N,requestId:g}),t.createElement(s._,{menu:t.createElement(d.I,{uri:k})},y)}))},91154:(e,n,a)=>{a.d(n,{g:()=>v});var i=a(67294),t=a(94184),l=a.n(t);function r(){const e=(e,n)=>{switch(n.type){case"INVALIDATE":return{...e,isValid:!1};case"CACHE_ITEMS":return e.isValid?{...e,items:{...e.items,...n.data},hasData:!0}:{isValid:!0,items:{...n.data},hasData:!0};default:throw new Error("Action not supported")}},[n,a]=(0,i.useReducer)(e,{items:{},isValid:!0,hasData:!1});return{cacheItems:(0,i.useCallback)(((e,n)=>{const i=e.reduce(((e,a,i)=>(e[i+n]=a,e)),{});a({type:"CACHE_ITEMS",data:i})}),[a]),getCachedItems:(0,i.useCallback)(((e,a)=>{const i=[],t=[];for(let l=e;l<=a;l++)n.items[l]||i.push(l),t.push(n.items[l]);return n.isValid?{items:t,missing:i.length>0?{firstMissingIndex:Math.min(...i),lastMissingIndex:Math.max(...i)}:null}:{items:t,missing:{firstMissingIndex:e,lastMissingIndex:a}}}),[n]),invalidateCache:(0,i.useCallback)((()=>{a({type:"INVALIDATE"})}),[a]),hasCachedData:n.hasData}}var s=a(63926),d=a(77323);const o=({renderItems:e,nrItems:n,estimatedItemMaxHeight:a,scrollNodeRef:t,nrRowsOverscan:l=5})=>{const r=(0,i.useRef)(null),o=(0,i.useRef)(null),m=(0,i.useRef)(null),c=(0,i.useRef)(0),u=(0,i.useRef)({rowCount:0,rowHeight:a,columnCount:1}),[k,p]=(0,i.useState)({firstItemToRender:0,lastItemToRender:-1}),v=(0,i.useCallback)(((e,n)=>{const a=t.current;if(!a)return;const i=Math.floor(a.offsetHeight/n)+2*l;u.current={rowCount:i,rowHeight:n,columnCount:e}}),[l,t]),N=(0,i.useCallback)((()=>{const e=t.current;if(!e)return;const a=Math.floor((e.scrollTop-c.current)/u.current.rowHeight),i=Math.max(a-l,0),r=i*u.current.columnCount,s=Math.min((i+u.current.rowCount-1)*u.current.columnCount-1,n-1);r===k.firstItemToRender&&s===k.lastItemToRender||p({firstItemToRender:r,lastItemToRender:s})}),[k.firstItemToRender,k.lastItemToRender,n,l,t]),S=(0,i.useCallback)((n=>e(k.firstItemToRender,k.lastItemToRender,n)),[k.firstItemToRender,k.lastItemToRender,e]),g=(0,i.useCallback)((({columnCount:e,rowHeight:n})=>{const a=n+s.w;a!==u.current.rowHeight&&e>0&&(v(e,a),N())}),[v,N]);(0,i.useEffect)((()=>{const e=m.current,n=t.current;e&&n&&(c.current=e.getBoundingClientRect().top-n.getBoundingClientRect().top+n.scrollTop)}),[t]),(0,i.useEffect)((()=>{if(!window.IntersectionObserver)return()=>{};const e=new window.IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&N()}))}));return r.current&&e.observe(r.current),o.current&&e.observe(o.current),()=>{e.disconnect()}}),[N]);const y=Math.ceil(n/u.current.columnCount),f=Math.min(y*u.current.rowHeight,u.current.rowHeight*(l-2)),h=u.current.rowHeight*(k.firstItemToRender/u.current.columnCount),b=k.lastItemToRender/u.current.columnCount+1<y?u.current.rowHeight*(y-u.current.rowCount)-h:0;return i.createElement("div",{ref:m,className:d.Z.wrapper,style:{height:y*u.current.rowHeight+"px"}},i.createElement("div",{ref:r,className:d.Z.topSentinel,style:{height:`${h+f}px`}},i.createElement("div",{style:{height:`${f}px`}})),i.createElement("div",{style:{transform:`translateY(${h}px)`}},i.createElement(s.T,{render:S,onLayoutChange:g})),i.createElement("div",{ref:o,className:d.Z.bottomSentinel,style:{height:`${b+f}px`}},i.createElement("div",{style:{height:`${f}px`}})))};var m=a(32648),c=a(36590),u=a(8498);const k=i.memo((function({index:e}){return i.createElement(c.C,{index:e,headerText:"",uri:"",renderCardImage:()=>i.createElement(u.x,{images:[]}),featureIdentifier:"unknown"})})),p="lA3jnNwnLc3CoYKT06Vz";function v({renderCard:e,nrCards:n,fetchData:a,limit:t=50,cardGridApiRef:s}){const{scrollNodeRef:d}=(0,i.useContext)(m.VX),{invalidateCache:c,getItemsFromCache:u,hasCachedData:v}=function(e){const{getCachedItems:n,cacheItems:a,invalidateCache:t,hasCachedData:l}=r(),s=(0,i.useRef)(!1),d=(0,i.useRef)(!1);(0,i.useEffect)((()=>(d.current=!0,()=>{d.current=!1})));const o=(0,i.useCallback)(((n,i)=>{const t=Math.max(n,0);s.current||(s.current=!0,e(t,i).then((e=>{s.current=!1,e.length>0&&d.current&&a(e,t)})))}),[a,e]);return{invalidateCache:t,getItemsFromCache:(0,i.useCallback)(((e,a,i)=>{const{items:t,missing:l}=n(e,a);if(l){const{firstMissingIndex:n,lastMissingIndex:t}=l;t===a?o(n,i):n===e?o(t-i+1,i):o(n,t-n+1)}return t}),[o,n]),hasCachedData:l}}(a);(0,i.useImperativeHandle)(s,(()=>({update:()=>c()})));return i.createElement("div",{className:l()({[p]:!v})},i.createElement(o,{renderItems:(a,l,r)=>{const s=u(a,l,t);return-1===l&&n>0?[i.createElement(k,{key:"placeholder",index:0})]:s.map(((n,t)=>(n?e(n,a+t,r):null)??i.createElement(k,{key:t,index:t})))},scrollNodeRef:d,nrItems:n,estimatedItemMaxHeight:500}))}},70666:(e,n,a)=>{a.r(n),a.d(n,{SeeAll:()=>m,default:()=>c});var i=a(67294),t=a(94184),l=a.n(t),r=a(28760),s=a(96206),d=a(67892);const o="a7lvtXATo3HALtrsOHtO",m=i.memo((function(e){const{link:n,pageId:a,className:t,label:m,state:c,pathname:u,onClick:k}=e;return i.createElement(d.Z,{to:n,className:l()(o,t),pageId:a,state:c,pathname:u,"data-testid":e["data-testid"],onClick:k},i.createElement(r.Dy,{variant:"minuetBold"},m||s.ag.get("search.see-all")))})),c=m},47402:(e,n,a)=>{a.d(n,{M:()=>A});var i=a(67294),t=a(94184),l=a.n(t),r=a(86706),s=a(51615),d=a(69518),o=a.n(d),m=a(73012),c=a(28760),u=a(7438),k=a(10149),p=a(90884),v=a(96206),N=a(32648),S=a(64005),g=a(49023),y=a(54444),f=a(1393),h=a(15416);const b="g3Xinb8x23n81ejvS9Uj",E="x-searchInput-searchInputInput",F="XD3TMuMHmKsfbqieC6q_",I="x-searchInput-searchInputSearchIcon",T="x-searchInput-searchInputClearButton",C="t2K4_iLmAyDtH7mcT5Wy",D="mOLTJ2mxkzHJj6Y9_na_",A=i.memo((function({isSearchChipsEnabled:e=!1,onSearch:n=!0}){const a=(0,s.TH)(),t=(0,i.useRef)(null),d=(0,i.useRef)(null),A=(0,s.k6)(),R=(0,r.I0)(),[{category:V,query:x},w]=(0,h.l)(),[q,P]=(0,i.useState)(x),O=!!V,{scrollNodeRef:U}=i.useContext(N.VX),H=a.pathname.startsWith("/recent-searches"),_=O||H,{spec:M,logger:L}=(0,y.fU)(p.createDesktopSearchInputEventFactory,{}),B=(0,S.y)(((n,a,i)=>{e?w(n,V,!1,i):w(n,null,a,i),U.current&&(U.current.scrollTop=0)}),200),W=(0,i.useCallback)(((e=!1)=>{t.current!==document.activeElement&&(d.current=document.activeElement,t.current&&t.current.focus()),e&&t.current?.select()}),[]);(0,g.eY)(g.O4.SHOW_SEARCH,(()=>W(!0))),(0,i.useEffect)((()=>{!_&&n&&(e&&x||W())}),[x,W,A.location.key,n,_,e]);return i.createElement("div",{className:l()(b,{[F]:!n})},i.createElement("form",{onSubmit:e=>{e.preventDefault(),q&&L.logInteraction(M.keyStrokeSearch());const n=o().from(q);if(n)if(n.type===o().Type.AD){const e=o().idToHex(n.getBase62Id());if(n.getBase62Id()===e)return;R((0,f.HI)(e))}else A.push(n.toURLPath(!0));else q&&U.current?.querySelector("h1, h2, h3, h4")?.focus()},role:"search"},i.createElement(c.Dy,{variant:"mesto",as:"input",style:{color:m.Snx},ref:t,className:l()(E),value:q,maxLength:800,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const n=e.currentTarget.value,{interactionId:a}=L.logInteraction(M.keyStrokeChangeSearchQuery({searchQueryString:n}));P(n),B(n,_,a)},onKeyDown:e=>{if("Escape"===e.key)if(q){const{interactionId:e}=L.logInteraction(M.hitTextClear());P(""),B("",_,e)}else t.current&&t.current.blur(),d.current instanceof HTMLElement&&d.current.focus()},placeholder:n?v.ag.get("search.search-for-label"):v.ag.get("navbar.search"),onFocus:()=>{e||!_&&n||B(q,_)},"data-testid":"search-input"})),i.createElement("div",{className:C},i.createElement("span",{className:I},i.createElement(u.j,{className:D,"aria-hidden":!0})),q&&i.createElement("button",{className:T,onClick:()=>{t.current&&t.current.focus();const{interactionId:e}=L.logInteraction(M.hitTextClear());P(""),B("",_,e)},"aria-label":v.ag.get("search.a11y.clear-input")},i.createElement(k.k,{className:D}))))}))},15416:(e,n,a)=>{a.d(n,{l:()=>l});var i=a(67294),t=a(51615);function l(){const e=(0,t.k6)(),n=(0,t.$B)("/search/:query?/:category?"),a=(0,i.useCallback)((function(n,a,i,t){const l=t?{interactionId:t}:void 0,r=["/search"];n&&(r.push(encodeURIComponent(n)),a&&r.push(a));const s=r.join("/");i?e.push(s,l):e.replace(s,l)}),[e]),l=function(e){try{return decodeURIComponent(e)}catch{return e}}(n?.params.query||""),r=n?.params.category;return[{query:l,category:r},a]}},21491:(e,n,a)=>{a.r(n),a.d(n,{default:()=>gi});var i=a(67294),t=a(62808),l=a.n(t),r=a(87577),s=a(73305),d=a(96206),o=a(58333),m=a(6388),c=a(55029),u=a(18061),k=a(54444),p=a(49207),v=a(18686),N=a(10149),S=a(3634),g=a(89477),y=a(67502),f=a(54543),h=a(16061),b=a(63495),E=a(46309),F=a(30523),I=a(95332),T=a(46327),C=a(42781);const D=({entity:e,index:n,testId:a,onClick:t,isHero:l=!1})=>{switch(e.type){case C.p.ALBUM:return i.createElement(S.r,{key:e.uri,testId:a,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,artists:e.artists,year:e.year,sharingInfo:null,requestId:e.requestId});case C.p.ARTIST:return i.createElement(g.I,{key:e.uri,testId:a,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId});case C.p.AUDIOBOOK:return i.createElement(y.c,{key:e.uri,testId:a,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,authorName:e.authorName,requestId:e.requestId});case C.p.EPISODE:return i.createElement(h.B,{key:e.uri,testId:a,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,showImages:e.show.images,durationMilliseconds:e.duration.milliseconds,releaseDate:e.release.date,resume_point:null,description:e.description,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId});case C.p.GENRE:return i.createElement(b.s,{key:e.uri,testId:a,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId});case C.p.PLAYLIST:return i.createElement(E.Z,{key:e.uri,testId:a,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,description:"",authorName:e.owner.displayName,requestId:e.requestId});case C.p.USER:return i.createElement(F.P,{key:e.uri,testId:a,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId});case C.p.SHOW:return i.createElement(I._,{key:e.uri,testId:a,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,mediaType:e.mediaType,sharingInfo:null,requestId:e.requestId});case C.p.TRACK:return i.createElement(T.G,{key:e.uri,testId:a,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.album?.images||[],artists:e.artists,album:e.album,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId,isLyricsMatch:e.isLyricsMatch});default:return console.warn('Rendering SearchEntityCard using the old method <DeprecatedEntityCardByUriType /> as the entity doesn\'t contain the new "type" EntityType enum.'),i.createElement(f.q,{testId:a,onClick:t,isHero:l,index:n,entity:e})}},A="ADri2r8kq8LVqSsNNvIr",R="fOEOTcOAgPryvbYRYfOo",V="xmJl0s8mcJ3bfhtnoaP1",x=({entity:e,index:n,clearSearchHistory:a})=>i.createElement("div",{className:A,key:e.uri},i.createElement(D,{entity:{...e,requestId:void 0},index:n}),i.createElement("div",{className:R},i.createElement("button",{className:V,onClick:()=>a(e.uri),"aria-label":d.ag.get("remove")},i.createElement(N.k,{iconSize:16}))));var w=a(42922),q=a(16375);const P=()=>{const{searchHistory:e,clearSearchHistory:n}=(0,q.u)();return 0===e.length?null:i.createElement(v.q,{index:0,id:"recent-searches",total:e.length,seeAllUri:"spotify:app:recent-searches",title:d.ag.get("search.title.recent-searches")},e.map(((e,a)=>i.createElement(w.ZP,{key:e.uri,index:a,value:"search-history"},i.createElement(x,{entity:e,index:a,clearSearchHistory:n})))))},O=()=>{const{spec:e,UBIFragment:n}=(0,k.fU)(o.createDesktopFindEventFactory,{data:{uri:"search:find"}}),{recentSearchesSpec:a,topGenresSpec:t,browseAllSpec:l}=(0,i.useMemo)((()=>({recentSearchesSpec:e.recentSearchesFactory(),topGenresSpec:e.topGenresFactory(),browseAllSpec:e.browseAllFactory()})),[e]);return i.createElement(i.Fragment,null,i.createElement(n,{spec:a},i.createElement(P,null)),i.createElement(u.F,{property:p.Oe,renderNewExperience:()=>i.createElement(m.T,{browseAllSpec:l}),renderOldExperience:()=>i.createElement(c.T,{topGenresSpec:t,browseAllSpec:l})}))};var U=a(94184),H=a.n(U),_=a(58588),M=a(54214),L=a(86706),B=a(61633),W=a(728),Z=a(12324),G=a(69559);const z="bMurPtRDRv5LuN78MTVG",$="KjPUGV8uMbl_0bvk9ePv",X="ijZQH9pePkbB2MbJHCJV",j="XTk61Y8OkBdUT6Wj4F6i",Y="VfDGbMWaJe9rcefizTNk",K="vmaoczSnxcR6Bpq8QEfX",Q="Rrh3wAxQPbSfTYPMvAUo";var J;function ee(e,n){(0,Z.Bu)(e,n),n.scrollIntoView({block:"end",inline:"center"})}function ne(e,n){const a=e.querySelector('[tabindex="0"]')||e.firstElementChild;n===J.RIGHT&&a.nextElementSibling?ee(a,a.nextElementSibling):n===J.LEFT&&a.previousElementSibling&&ee(a,a.previousElementSibling)}!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(J||(J={}));const ae=e=>{const{children:n,className:a,showButtons:t=!0,ariaLabel:l}=e,r=(0,i.useRef)(null),s=(0,i.useRef)(null),[d,o]=(0,i.useState)(!1),[m,c]=(0,i.useState)(!1),u=(0,i.useCallback)((()=>{if(!s.current||!r.current)return;const e=s.current,n=r.current,a=e.scrollWidth-e.clientWidth,i=Math.floor(e.scrollLeft),t=e.scrollWidth>n.clientWidth;c(t&&0!==i),o(t&&Math.abs(i)<a)}),[]);(0,G.a)((()=>{u()}));const k=i.Children.toArray(n).length;(0,i.useEffect)(u,[k,u]);const p=(0,i.useCallback)((e=>{const n=e*(r.current.clientWidth/2);s.current.scrollBy({left:n}),u()}),[u]),v=(0,L.v9)((e=>e.ui?.textDirection?.isRTL)),N=(0,i.useCallback)((e=>{"ArrowLeft"===e.key?(e.preventDefault(),ne(s.current,v?J.RIGHT:J.LEFT)):"ArrowRight"===e.key&&(e.preventDefault(),ne(s.current,v?J.LEFT:J.RIGHT))}),[v]),S=v?d:m,g=v?m:d;return i.createElement("div",{ref:r,className:H()(z,a)},i.createElement("div",{ref:s,className:$,onScroll:u,onKeyDown:N,role:"list","aria-label":l,tabIndex:0},n),t&&i.createElement("div",{className:X,dir:"ltr"},i.createElement("button",{className:H()(j,K,{[Y]:S}),tabIndex:-1,onClick:()=>p(J.LEFT)},i.createElement(B.e,{semanticColor:"textBase"})),i.createElement("button",{className:H()(j,Q,{[Y]:g}),tabIndex:-1,onClick:()=>p(J.RIGHT)},i.createElement(W.V,{semanticColor:"textBase"}))))};var ie=a(67892);const te=(0,i.createContext)(null),le=te.Provider;function re(){const e=(0,i.useContext)(te);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var se=a(7073),de=a(13218),oe=a(73727),me=a(28760),ce=a(99450);const ue="hngqMWKjlLOEcuxpoHz9",ke="WjLSNZPxuT0Zuw42kxSM",pe="zFOvsuNQpwehjH2VoiLL",ve="zeGt0Z2HCYRvd6ziu_t9",Ne=({forChip:e})=>{const{query:n}=re(),a=`/search/${n}`;return i.createElement("div",{className:ue,"aria-live":"polite"},i.createElement(me.Dy,{as:"h1",variant:"canon",className:ke},e?d.ag.get("search.empty-results-title-for-chip",n,e):d.ag.get("search.empty-results-title",n)),i.createElement("p",{className:pe},d.ag.get("search.empty-results-text")),e&&i.createElement(oe.rU,{to:a},i.createElement(ce.D,{colorSet:"invertedLight",className:ve},d.ag.get("search.see-all"))))};var Se=a(33241),ge=a(18864),ye=a(84242),fe=a(47917);const he="H2PDjUgJNBIH5eWg59M0",be="vRlEuZATPhZt2l04RVIw",Ee="Adlh7XTc3j3pXM3jGgr8",Fe=({index:e,item:n})=>{const{episode:a,show:t}=n,{usePlayContextItem:l}=(0,ye.n)({uri:n.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return i.createElement("div",{className:Ee},i.createElement(fe.V,{index:e,episode:a,showMetadata:t,usePlayContextItem:l}),i.createElement("hr",{className:be,"aria-hidden":!0}))},Ie=({pageSize:e=30,showTitle:n=!0,displayEmptyPageOnEmptyResults:a=!0,enableInfiniteScroll:t=!1,spec:l})=>{const r=(0,i.useRef)(!0);(0,i.useEffect)((()=>(r.current=!0,()=>{r.current=!1})),[]);const{query:s,api:d}=re(),o=(0,i.useRef)(null),m=(0,i.useRef)(0),[c,u]=(0,i.useState)(null),{ref:p,breakpoint:v}=(0,ge.Db)({[ge.Uo.MEDIUM]:0,[ge.Uo.LARGE]:600}),N=(0,k.$P)(),S=(0,i.useCallback)((async(n=!1)=>{n&&(m.current=0,o.current=null);let a=e;if(null!==o.current){if(m.current>=o.current)return;m.current+a>o.current&&(a=o.current-m.current)}const i=await d.getFullEpisodes(s,m.current,a);m.current+=a,o.current=i.totalCount||0,r.current&&u((e=>(n||null===e?[]:e).concat(i.items)))}),[d,s,e]);(0,i.useEffect)((()=>{S(!0)}),[S]);const g=`spotify:app:search:${encodeURIComponent(s)}:${Ye}`;return 0===o.current?a?i.createElement(Ne,{forChip:Je.episodes()}):null:i.createElement(ge.ZU.Provider,{value:v},c&&n&&i.createElement(de.r,{title:Je.episodes(),seeAllUri:g,onClickTitle:()=>{l&&N.logInteraction(l.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:g}))},onClickSeeAll:()=>{l&&N.logInteraction(l.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:g}))},hasMoreElements:!t&&c.length<(o.current||0)}),i.createElement("div",{ref:p,className:he},c&&i.createElement(Se.C,{triggerOnInitialLoad:!1,onReachBottom:()=>{t&&S()}},c.map(((e,n)=>i.createElement(Fe,{item:e,index:n,key:n}))))))};var Te=a(69518),Ce=a.n(Te),De=a(99996),Ae=a(49961),Re=a(28248),Ve=a(47991);const xe=i.memo((function({trackListHeaderTop:e}){const n=(0,i.useRef)(!0);(0,i.useEffect)((()=>(n.current=!0,()=>{n.current=!1})),[]);const[a,t]=(0,i.useState)(null),{query:l,api:r,serpId:s}=re();(0,i.useEffect)((()=>{(async()=>{const e=await r.getSearchCategoryResultsMeta(l,"tracks");n.current&&t(e.totalCount||0)})()}),[r,l]);const o=(0,i.useCallback)((async(e,n)=>(await r.getSearchCategoryResults(l,"tracks",e,n)).items||[]),[r,l]),m=(0,i.useCallback)(((e,n)=>{const a=(0,Ae.X)(e.album?.images,{desiredSize:40}),t=!(!1===e.isPlayable);return i.createElement(Re.e9,{key:n+e.uri,index:n,uri:(0,Ve.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:t,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:a?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch})}),[]),c=(0,i.useMemo)((()=>[Re.QD.INDEX,Re.QD.TITLE,Re.QD.ALBUM,Re.QD.DURATION]),[]),u=(0,i.useCallback)((e=>e.uri),[]),p=Ce().searchURI(l).toURI(),{spec:v,UBIFragment:N}=(0,k.fU)(De.createDesktopSearchTracksEventFactory,{data:{uri:p,reason:s}}),S=(0,i.useMemo)((()=>v.tracksFactory()),[v]);if(null===a)return null;const g=d.ag.get("search.showing-category-query-songs",l);return i.createElement(N,{spec:S},i.createElement(w.ZP,{value:"search-results-tracklist"},i.createElement(Re.Pv,{ariaLabel:g,key:l,hasHeaderRow:!0,columns:c,renderRow:m,resolveUri:u,nrTracks:a,fetchTracks:o,limit:50,headerTop:e})))}));var we=a(85019);const qe=e=>{const{title:n,category:a,query:t,results:l,onAddToHistory:r,position:s,showSeeAll:d}=e;if(!l)return null;const{items:o,totalCount:m}=l;return o&&0!==o.length?i.createElement(v.q,{index:s,id:a,total:m||0,title:n,testId:`${a}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(t)}:${a}`,showSeeAll:d},o.map(((e,n)=>i.createElement(w.ZP,{value:a,index:n,key:e.uri},i.createElement(D,{onClick:()=>r(e),entity:e,index:n}))))):null},Pe={podcastAndEpisodes:"pE9ccpPiPFWfTWfDdKT_"},Oe=({pageSize:e,results:n})=>{const a=(0,i.useRef)(!0);(0,i.useEffect)((()=>(a.current=!0,()=>{a.current=!1})),[]);const{query:t,serpId:l,onAddToHistory:r}=re(),s=Ce().searchURI(t).toURI(),{spec:d,UBIFragment:o}=(0,k.fU)(we.createDesktopSearchPodcastAndShowsEventFactory,{data:{uri:s,reason:l}});return 0===n?.podcasts.totalCount&&0===n?.episodes.totalCount?i.createElement(Ne,{forChip:Je.podcastAndEpisodes()}):i.createElement(o,{spec:d},i.createElement("div",{className:Pe.podcastAndEpisodes},0!==n?.podcasts.totalCount&&i.createElement("div",{className:Pe.podcastShelf},i.createElement(qe,{position:0,category:"podcasts",title:Je.podcastAndEpisodes(),query:t,results:n?.podcasts,onAddToHistory:r})),0!==n?.episodes.totalCount&&i.createElement("div",{className:Pe.episodesShelf},i.createElement(Ie,{displayEmptyPageOnEmptyResults:!1,pageSize:e,spec:d}))))};var Ue=a(73012),He=a(78358),_e=a(63926);const Me="bCoyoXohuLs0f6urF2PD",Le={artists:e=>d.ag.get("search.showing-category-query-artist",e),albums:e=>d.ag.get("search.showing-category-query-albums",e),playlists:e=>d.ag.get("search.showing-category-query-playlists",e),podcasts:e=>d.ag.get("search.showing-category-query-podcasts",e),audiobooks:e=>`All audiobooks for ${e}`,episodes:e=>d.ag.get("search.showing-category-query-episodes",e),users:e=>d.ag.get("search.showing-category-query-profiles",e),genres:e=>d.ag.get("search.showing-category-query-genres",e),tracks:()=>""},Be={shows:"podcasts",profiles:"users"},We=({showTitle:e=!0,pageSize:n=50})=>{const a=(0,i.useRef)(!0);(0,i.useEffect)((()=>(a.current=!0,()=>{a.current=!1})),[]);const{category:t,query:l,api:r,serpId:s,onAddToHistory:d}=re(),o=(0,i.useRef)(null),m=(0,i.useRef)(0),[c,u]=(0,i.useState)(null),p=t,v=Be[p]||t,N=(0,i.useCallback)((async(e=!1)=>{e&&(m.current=0,o.current=null);let i=n;if(null!==o.current){if(m.current>=o.current)return;m.current+i>o.current&&(i=o.current-m.current)}const t=await r.getSearchCategoryResults(l,v,m.current,i);m.current+=i,o.current=t.totalCount||0,a.current&&u((n=>(e||null===n?[]:n).concat(t.items)))}),[r,v,l,n]);(0,i.useEffect)((()=>{N(!0)}),[N]);const S=(0,i.useCallback)(((e,n)=>i.createElement(w.ZP,{value:"card",key:`${e.uri}-${n}`,index:n},i.createElement(D,{entity:e,onClick:()=>d(e),testId:`search-category-card-${n}`,index:n}))),[d]),g=Ce().searchURI(l).toURI(),{spec:y,UBIFragment:f}=(0,k.fU)(He.createDesktopSearchCategoryEventFactory,{data:{uri:g,reason:s}}),h=(0,i.useMemo)((()=>y.cardsFactory()),[y]);return 0===o.current?i.createElement(Ne,{forChip:Je[p]()}):i.createElement(f,{spec:h},i.createElement("div",{className:Me},e&&p in Le&&i.createElement(me.Dy,{as:"h1",variant:"canon",semanticColor:"textBase",paddingBottom:Ue.o78},Le[p](l)),c&&i.createElement(Se.C,{onReachBottom:N,triggerOnInitialLoad:!1},i.createElement(_e.T,{render:()=>c.map(((e,n)=>S(e,n)))}))))};var Ze=a(13406);const Ge=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const n=(0,i.useRef)(!0);(0,i.useEffect)((()=>(n.current=!0,()=>{n.current=!1})),[]);const{query:a,api:t,serpId:l}=re(),r=(0,i.useRef)(null),s=(0,i.useRef)(0),[o,m]=(0,i.useState)(null),c=(0,i.useCallback)((async(i=!1)=>{i&&(s.current=0,r.current=null);let l=e;if(null!==r.current){if(s.current>=r.current)return;s.current+l>r.current&&(l=r.current-s.current)}const d=await t.getSearchCategoryResults(a,"tracks",s.current,l);s.current+=l,r.current=d.totalCount||0,n.current&&m((e=>(i||null===e?[]:e).concat(d.items)))}),[t,a,e]);(0,i.useEffect)((()=>{c(!0)}),[c]);const u=(0,i.useCallback)(((e,n)=>{const a=(0,Ae.X)(e.album?.images,{desiredSize:40}),t=!(!1===e.isPlayable);return i.createElement(Re.e9,{key:n+e.uri,index:n,uri:(0,Ve.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:t,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:a?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch})}),[]),p=(0,i.useMemo)((()=>[Re.QD.INDEX,Re.QD.TITLE,Re.QD.ALBUM,Re.QD.DURATION]),[]),v=(0,i.useCallback)((e=>e.uri),[]),N=Ce().searchURI(a).toURI(),{spec:S,UBIFragment:g}=(0,k.fU)(De.createDesktopSearchTracksEventFactory,{data:{uri:N,reason:l}}),y=(0,i.useMemo)((()=>S.tracksFactory()),[S]),f=d.ag.get("search.showing-category-query-songs",a);return 0===r.current?i.createElement(Ne,{forChip:Je.tracks()}):i.createElement(g,{spec:y},i.createElement(w.ZP,{value:"search-results-tracklist"},i.createElement("div",null,o&&i.createElement(Se.C,{triggerOnInitialLoad:!1,onReachBottom:c},i.createElement(Re.Pv,{ariaLabel:f,hasHeaderRow:!0,columns:p,renderRow:u,resolveUri:v,nrTracks:o.length,headerTop:Ze.K1+an,tracks:o})))))};var ze=a(91154);const $e=function(){const e=(0,i.useRef)(!0);(0,i.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]);const{api:n,query:a,serpId:t,onAddToHistory:l}=re(),[r,s]=(0,i.useState)(d.ag.get("artist-page.featuring",a)),o=(0,i.useCallback)((async()=>{const i=await n.getTopRecommendations(a);return e.current&&s(d.ag.get("artist-page.featuring",i.artistName)),i.items}),[n,a]),m=(0,i.useCallback)(((e,n)=>i.createElement(w.ZP,{key:e.uri,value:"card",index:n},i.createElement(E.Z,{index:n,onClick:()=>l(e),uri:e.uri,name:e.name,images:e.images,authorName:e.owner.displayName,description:null}))),[l]),c=Ce().searchURI(a).toURI(),{spec:u,UBIFragment:p}=(0,k.fU)(He.createDesktopSearchCategoryEventFactory,{data:{uri:c,reason:t}});return i.createElement(p,{spec:u},i.createElement("div",null,i.createElement(me.Dy,{as:"h1",variant:"canon",semanticColor:"textBase",paddingBottom:Ue.o78},r),i.createElement(ze.g,{nrCards:4,renderCard:m,fetchData:o})))},Xe="tracks",je="podcastAndEpisodes",Ye="episodesFull",Ke=({results:e})=>{const{category:n}=re();return n===Xe?i.createElement(Ge,null):n===je?i.createElement(Oe,{results:e,pageSize:30}):n===Ye?i.createElement(Ie,{pageSize:30,enableInfiniteScroll:!0,showTitle:!1}):i.createElement(We,{showTitle:!1,pageSize:30})},Qe=()=>{const{category:e}=re();return e===Xe?i.createElement(xe,null):"topRecommendations"===e?i.createElement($e,null):i.createElement(We,null)},Je={artists:()=>d.ag.get("search.title.artists"),albums:()=>d.ag.get("search.title.albums"),playlists:()=>d.ag.get("search.title.playlists"),podcasts:()=>d.ag.get("search.title.shows"),episodes:()=>d.ag.get("search.title.episodes"),audiobooks:()=>"Audiobooks",users:()=>d.ag.get("search.title.profiles"),genres:()=>d.ag.get("search.title.genres-and-moods"),tracks:()=>d.ag.get("search.title.tracks"),[je]:()=>d.ag.get("search.title.podcast-and-shows")},en=["artists","albums","playlists","podcasts","episodes","audiobooks","users","genres"],nn={containerFullWidth:"fVB_YDdnaDlztX7CcWTA",contentSpacing:"e179_Eg8r7Ub6yjjxctr",container:"VIeVCUUETJyYPCDpsBif",chipLink:"ZWI7JsjzJaR_G8Hy4W6J"},an=48,tn={[se.xN.Podcasts]:["podcasts",je],[se.xN.Episodes]:["episodes",je],[se.xN.TopResults]:[null,null],[se.xN.Artists]:["artists","artists"],[se.xN.Albums]:["albums","albums"],[se.xN.Playlists]:["playlists","playlists"],[se.xN.Tracks]:["tracks","tracks"],[se.xN.Audiobooks]:["audiobooks","audiobooks"],[se.xN.Genres]:["genres","genres"],[se.xN.Users]:["users","users"]},ln=({to:e,title:n,selected:a,onClick:t})=>i.createElement(ie.Z,{replace:!0,to:e,tabIndex:-1,onClick:t,className:nn.chipLink},i.createElement(_.A,{selected:a,selectedColorSet:"invertedLight",className:nn.chip,tabIndex:-1},n)),rn=({results:e})=>{const{query:n,category:a}=re(),{spec:t,logger:l}=(0,k.fU)(M.createDesktopSearchChipsEventFactory,{});if(!n)return null;if("podcasts"===a||"episodes"===a||a===Ye)return null;const r=e?.chipOrder?.items||[],s=r.reduce(((n,i)=>{if(!i.typeName)return n;const[t,l]=tn[i.typeName];return l&&t&&(a===l||e?.[t]?.items?.length)?(n.add(l),n):n}),new Set([])),o=encodeURIComponent(n);return i.createElement("div",{className:nn.containerFullWidth},i.createElement("div",{className:H()("contentSpacing",nn.contentSpacing)},i.createElement("div",{className:nn.container},i.createElement(ae,{className:nn.carousel},r.length>0&&i.createElement(ln,{key:"all",to:`spotify:app:search:${o}`,title:d.ag.get("search.title.all"),selected:void 0===a,onClick:()=>{l.logInteraction(t.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${o}`}))}}),Array.from(s).map(((e,n)=>{const r=Je[e]?.();return i.createElement(ln,{key:e,to:`spotify:app:search:${o}:${e}`,title:r,selected:a===e,onClick:()=>{l.logInteraction(t.chipFactory({identifier:e,position:n+1}).hitUiNavigate({destination:`spotify:app:search:${o}:${e}`}))}})}))))))};var sn=a(43675),dn=a(19480);const on="Ul_eSpTV7OKDhvXcgfzw",mn="HFNTjI36ujrPacyLOwTT",cn=()=>{const{searchHistory:e,clearSearchHistory:n}=(0,q.u)(),{onSearchRequest:a}=re(),{spec:t,logger:l,UBIFragment:r}=(0,k.fU)(sn.createDesktopRecentSearchesEventFactory,{data:{uri:"spotify:app:recent-searches"}}),s=(0,i.useMemo)((()=>t.recentSearchesCardsFactory()),[t]),o=(0,i.useCallback)((()=>{const e=t.clearButtonFactory().hitClearRecentSearches();l.logInteraction(e),n(),a("")}),[n,a,l,t]);return 0===e.length?null:i.createElement("div",{className:on},i.createElement(r,{spec:s},i.createElement(dn.P,{title:d.ag.get("search.title.recent-searches"),showAll:!0},e.map(((e,a)=>i.createElement(w.ZP,{key:e.uri,index:a,value:"search-history"},i.createElement(x,{clearSearchHistory:n,entity:e,index:a})))))),i.createElement("button",{onClick:o,className:mn},i.createElement(me.Dy,{variant:"minuetBold"},d.ag.get("search.clear-recent-searches"))))};var un=a(35796),kn=a(87961),pn=a(3775),vn=a(22578),Nn=a(28638),Sn=a(13983);const gn=(e,n)=>{const a=("object"==typeof e?.requestIds?e?.requestIds:void 0)?.[n],i="object"==typeof a?a:void 0;return"string"==typeof i?.["search-api"]?i?.["search-api"]:void 0},yn=e=>gn(e,"/searchV2"),fn=e=>gn(e,"/searchV2/topResults");a(98984);var hn=a(52200),bn=a(69415),En=a(2678);const Fn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAlbumDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}}]}}]}}]}}]},In={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchArtistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]},Tn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]},Cn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchGenreDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenreResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Genre"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]},Dn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPlaylistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}}]}}]},An={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPodcastDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}]}}]}}]},Rn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAudiobookDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}]}}]}}]},Vn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTrackDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}}]}}]}}]}}]},xn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchUserDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",alias:{kind:"Name",value:"displayName"},name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"smallImageUrl"}},{kind:"Field",name:{kind:"Name",value:"largeImageUrl"}}]}}]}}]}}]}}]},wn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchFullEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchFullEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchFullEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastMetadataV2"}}]}}]}}]}}]}},...En.n0.definitions,...hn.rD.definitions,...hn.rA.definitions,...bn.Zl.definitions,...hn.TS.definitions,...En.Rr.definitions]};var qn=a(67691);function Pn(e){return null!==e}function On(e,n){return e.map((e=>function(e,n){if("Episode"!==e.data?.__typename)return null;return{requestId:n,episode:(0,qn.YS)(e.data),show:(0,qn.XU)(e.data.podcast)}}(e,n))).filter(Pn)}async function Un(e,n){const a=await e(wn,n),i=a?.data?.searchV2?.episodes;return i?function(e,n){return{items:On(e?.items||[],n),totalCount:e?.totalCount||0}}(i,yn(a?.extensions)):null}const Hn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchDesktop"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}]}]}}]}},{kind:"Field",name:{kind:"Name",value:"featured"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"chipOrder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typeName"}}]}}]}}]}}]}},...Fn.definitions,...hn.rD.definitions,...hn.rA.definitions,...In.definitions,...Tn.definitions,...Cn.definitions,...Dn.definitions,...An.definitions,...Rn.definitions,...Vn.definitions,...xn.definitions]};function _n(e,n){return{items:Mn(e?.items||[],n),totalCount:e?.totalCount||0}}function Mn(e,n){return e.map((e=>Ln(e,n))).filter(Pn)}function Ln(e,n){if("Album"!==e.data?.__typename)return null;const a=e.data;return{type:C.p.ALBUM,name:a.name,uri:a.uri,images:a.coverArt?.sources||[],artists:a.artists.items.map((e=>({type:C.p.ARTIST,name:e.profile.name,uri:e.uri}))),year:a.date?.year,requestId:n}}const Bn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAlbums"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Fn.definitions,...hn.rD.definitions,...hn.rA.definitions]},Wn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAlbumsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Zn(e,n){return{items:Gn(e?.items||[],n),totalCount:e?.totalCount||0}}function Gn(e,n){return e.map((e=>zn(e,n))).filter(Pn)}function zn(e,n){if("Artist"!==e.data?.__typename)return null;const a=e.data;return{type:C.p.ARTIST,name:a.profile.name,images:a.visuals?.avatarImage?.sources||[],uri:a.uri,requestId:n}}const $n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...In.definitions,...hn.rD.definitions,...hn.rA.definitions]},Xn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchArtistsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function jn(e,n){return{items:Yn(e?.items||[],n),totalCount:e?.totalCount}}function Yn(e,n){return e.map((e=>Kn(e,n))).filter(Pn)}function Kn(e,n){if("Audiobook"!==e.data?.__typename)return null;const a=e.data;return{type:C.p.AUDIOBOOK,uri:a.uri,name:a.name,images:a.coverArt?.sources||[],authorName:a.publisher?.name||"",requestId:n}}const Qn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAudiobooks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Rn.definitions,...hn.rD.definitions,...hn.rA.definitions]},Jn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAudiobooksMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};var ea=a(72169);function na(e,n){return{items:aa(e?.items||[],n),totalCount:e?.totalCount||0}}function aa(e,n){return e.map((e=>ia(e,n))).filter(Pn)}function ia(e,n){if("Episode"!==e.data?.__typename)return null;const a=e.data;return{type:C.p.EPISODE,name:a.name,images:a.coverArt?.sources||[],uri:a.uri,duration:{milliseconds:a.duration.totalMilliseconds},isExplicit:a.contentRating?.label===se.KS.Explicit,release:(0,ea.dR)(a.releaseDate),description:a.description||"",is19PlusOnly:a.contentRating?.label===se.KS.NineteenPlus,show:{type:C.p.SHOW,uri:a.podcast.uri,name:a.podcast.name,publisher:a.podcast.publisher?.name||"",mediaType:(0,ea.x7)(a.podcast.mediaType),images:a.podcast.coverArt?.sources||[]},requestId:n}}const ta={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Tn.definitions,...hn.rD.definitions,...hn.rA.definitions]},la={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchEpisodesMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function ra(e,n){return{items:sa(e?.items||[],n),totalCount:e?.totalCount||0}}function sa(e,n){return e.map((e=>da(e,n))).filter(Pn)}function da(e,n){if("Genre"!==e.data?.__typename)return null;const a=e.data,i=Ce().from(a.uri);return{type:C.p.GENRE,name:a.name,uri:i?a.uri:`spotify:app:genre:${a.uri}`,images:a.image?.sources||[],requestId:n}}const oa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchGenres"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Cn.definitions,...hn.rD.definitions,...hn.rA.definitions]},ma={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchGenresMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function ca(e,n){return{items:ua(e?.items||[],n),totalCount:e?.totalCount||0}}function ua(e,n){return e.map((e=>ka(e,n))).filter(Pn)}function ka(e,n){if("Playlist"!==e.data?.__typename)return null;const a=e.data;return{type:C.p.PLAYLIST,uri:a.uri,name:a.name,images:a.images?.items.flatMap((e=>e.sources))||[],owner:{type:C.p.USER,uri:a.owner?.uri||"",displayName:a.owner?.name||"",username:a.owner?.username||"",images:a.images?.items.flatMap((e=>e.sources))||[]},requestId:n}}const pa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPlaylists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Dn.definitions,...hn.rD.definitions,...hn.rA.definitions]},va={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPlaylistsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Na(e,n){return{items:Sa(e?.items||[],n),totalCount:e?.totalCount||0}}function Sa(e,n){return e.map((e=>ga(e,n))).filter(Pn)}function ga(e,n){if("Podcast"!==e.data?.__typename)return null;const a=e.data;return{type:C.p.SHOW,uri:a.uri,name:a.name,images:a.coverArt?.sources||[],mediaType:(0,ea.x7)(a.mediaType),publisher:a.publisher?.name||"",requestId:n}}const ya={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPodcasts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...An.definitions,...hn.rD.definitions,...hn.rA.definitions]},fa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPodcastsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};const ha={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTopResults"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTopResults"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTopResults"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopResultsV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"featured"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},...Fn.definitions,...hn.rD.definitions,...hn.rA.definitions,...In.definitions,...Tn.definitions,...Cn.definitions,...Dn.definitions,...An.definitions,...Rn.definitions,...Vn.definitions,...xn.definitions]};function ba(e,n){return{items:Ea(e,n),totalCount:e?.totalCount||0}}function Ea(e,n){return e?.items.map((e=>Fa(e,n))).filter(Pn)||[]}function Fa({item:e,matchedFields:n},a){if("Track"!==e.data?.__typename)return null;const i=e.data,t=i.albumOfTrack;return{type:C.p.TRACK,uri:i.uri,name:i.name,isPlayable:i.playability.playable,album:{type:C.p.ALBUM,uri:t?.uri||"",name:t?.name||"",images:t?.coverArt?.sources||[]},artists:i.artists.items.map((e=>({type:C.p.ARTIST,name:e.profile.name,uri:e.uri}))),duration:{milliseconds:i.duration.totalMilliseconds},isExplicit:"EXPLICIT"===i.contentRating?.label,is19PlusOnly:"NINETEEN_PLUS"===i.contentRating?.label,requestId:a,isLyricsMatch:!!n?.includes(se.$C.Lyrics)}}const Ia={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Vn.definitions,...hn.rD.definitions,...hn.rA.definitions]},Ta={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTracksMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};var Ca=a(74563);function Da(e,n){return{items:Aa(e?.items||[],n),totalCount:e?.totalCount||0}}function Aa(e,n){return e.map((e=>Ra(e,n))).filter(Pn)}function Ra(e,n){if("User"!==e.data?.__typename)return null;const a=e.data,i=(0,Ca.p)({imageUriOrUrl:a.image?.largeImageUrl||a.image?.smallImageUrl||""});return{type:C.p.USER,uri:a.uri,name:a.displayName||a.username,images:[{url:i,width:NaN,height:NaN}],requestId:n}}const Va={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...xn.definitions]},xa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUsersMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function wa(e,n){return{items:(e?.itemsV2??[]).map((e=>{const{item:a}=e;switch(a?.data?.__typename){case"Album":return Ln(a,n);case"Artist":return zn(a,n);case"Audiobook":return Kn(a,n);case"Episode":return ia(a,n);case"Genre":return da(a,n);case"Playlist":return ka(a,n);case"Podcast":return ga(a,n);case"Track":return Fa(e,n);case"User":return Ra(a,n);default:return console.warn("Unable to determine the correct type for item",a),null}})).filter(Pn)}}function qa(e,n){const a=e?.featured||[];return{artistName:a.length?Pa(e):"",items:a?.map((e=>ka(e,n))).filter(Pn)||[],totalCount:a.length||0}}function Pa(e){const n=(0,ea.wY)(e,"itemsV2",[]);try{return(0,ea.U2)(n.map((({item:e})=>e)).filter(Boolean),"0.data")?.profile?.name||""}catch{return""}}const Oa={items:[],artistName:"",totalCount:0};const Ua={items:[],totalCount:0},Ha={albums:Ua,artists:Ua,episodes:Ua,genres:Ua,playlists:Ua,podcasts:Ua,audiobooks:Ua,topResults:{items:[]},tracks:Ua,users:Ua,topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}},_a={albums:async function(e,n){const a=await e(Bn,n),i=a?.data?.searchV2?.albums;return i?_n(i,yn(a?.extensions)):null},artists:async function(e,n){const a=await e($n,n),i=a?.data?.searchV2?.artists;return i?Zn(i,yn(a?.extensions)):null},episodes:async function(e,n){const a=await e(ta,n),i=a?.data?.searchV2?.episodes;return i?na(i,yn(a?.extensions)):null},genres:async function(e,n){const a=await e(oa,n),i=a?.data?.searchV2?.genres;return i?ra(i,yn(a?.extensions)):null},playlists:async function(e,n){const a=await e(pa,n),i=a?.data?.searchV2?.playlists;return i?ca(i,yn(a?.extensions)):null},podcasts:async function(e,n){const a=await e(ya,n),i=a?.data?.searchV2?.podcasts;return i?Na(i,yn(a?.extensions)):null},audiobooks:async function(e,n){const a=await e(Qn,n),i=a?.data?.searchV2?.audiobooks;return i?jn(i,yn(a?.extensions)):null},tracks:async function(e,n){const a=await e(Ia,n),i=a?.data?.searchV2?.tracksV2;return i?ba(i,yn(a?.extensions)):null},users:async function(e,n){const a=await e(Va,n),i=a?.data?.searchV2?.users;return i?Da(i,yn(a?.extensions)):null}},Ma={albums:async function(e,n){return{items:[],totalCount:(await e(Wn,n))?.data?.searchV2?.albums?.totalCount||0}},artists:async function(e,n){return{items:[],totalCount:(await e(Xn,n))?.data?.searchV2?.artists?.totalCount||0}},episodes:async function(e,n){return{items:[],totalCount:(await e(la,n))?.data?.searchV2?.episodes?.totalCount||0}},genres:async function(e,n){return{items:[],totalCount:(await e(ma,n))?.data?.searchV2?.genres?.totalCount||0}},playlists:async function(e,n){return{items:[],totalCount:(await e(va,n))?.data?.searchV2?.playlists?.totalCount||0}},podcasts:async function(e,n){return{items:[],totalCount:(await e(fa,n))?.data?.searchV2?.podcasts?.totalCount||0}},audiobooks:async function(e,n){return{items:[],totalCount:(await e(Jn,n))?.data?.searchV2?.audiobooks?.totalCount||0}},tracks:async function(e,n){return{items:[],totalCount:(await e(Ta,n))?.data?.searchV2?.tracks?.totalCount||0}},users:async function(e,n){return{items:[],totalCount:(await e(xa,n))?.data?.searchV2?.users?.totalCount||0}}};class La{constructor(e){this._request=e}async getSearchResults(e,n=!1,a=0,i=10,t=5){const l={searchTerm:e,offset:a,limit:i,numberOfTopResults:t,includeAudiobooks:n},r=await this._request(Hn,l),s=r?.data.searchV2;if(!s)return Ha;const d=yn(r?.extensions),o=fn(r?.extensions);return{albums:_n(s.albums,d),artists:Zn(s.artists,d),episodes:na(s.episodes,d),genres:ra(s.genres,d),playlists:ca(s.playlists,d),podcasts:Na(s.podcasts,d),audiobooks:jn(s.audiobooks??null,d),tracks:ba(s.tracksV2,d),users:Da(s.users,d),topResults:wa(s.topResults,o),topRecommendations:qa(s.topResults,o),chipOrder:s.chipOrder}}async getSearchCategoryResults(e,n,a=0,i=25,t=10){const l={searchTerm:e,offset:a,limit:i,numberOfTopResults:t};return await _a[n](this._request,l)||Ua}async getSearchCategoryResultsMeta(e,n){const a={searchTerm:e,limit:1,offset:0,numberOfTopResults:10};return await Ma[n](this._request,a)||Ua}async getFullEpisodes(e,n=0,a=25){const i={searchTerm:e,offset:n,limit:a};return await Un(this._request,i)||Ua}getTopRecommendations(e){return async function(e,n){const a=await e(ha,{searchTerm:n,numberOfTopResults:10}),i=a?.data?.searchV2?.topResults;return i?qa(i,fn(a?.extensions)):Oa}(this._request,e)}}var Ba=a(15416),Wa=a(47402),Za=a(50060),Ga=a(70666);const za=i.memo((function({tracks:e,query:n}){const a=(0,i.useCallback)(((e,n)=>{const a=(0,Ae.X)(e.album?.images,{desiredSize:40}),t=!(!1===e.isPlayable);return i.createElement(Re.pt,{key:e.uri,uri:(0,Ve.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:t,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:n,imgUrl:a?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch})}),[]),t=(0,i.useMemo)((()=>[Re.QD.TITLE,Re.QD.DURATION]),[]),l=(0,i.useCallback)((e=>e.uri),[]);return e&&i.createElement(w.ZP,{value:"search-results-tracklist"},i.createElement(Re.Pv,{key:n,ariaLabel:d.ag.get("search.a11y.songs-search-results"),renderRow:a,rowPlaceholder:Re.hU,nrTracks:Math.min(e.length,4),tracks:e,resolveUri:l,columns:t}))}),((e,n)=>e.tracks===n.tracks)),$a="rP1oFnzzvss0GV6VPgGG",Xa="XQakH0M0GDc6g6JKeyds",ja="PW9eULMYYH14XQgoJ0ui",Ya="VL6wjp4Br_D3FEWrUGGR",Ka="QVIrLvegL13F9cEdMqfT",Qa="Lj3brgOJmjcq6MQ22XKq",Ja=({tracks:e,query:n,className:a,showSeeAll:t=!0,spec:l})=>{const r=(0,k.$P)(),s=(0,i.useCallback)((()=>i.createElement("div",{className:Qa},i.createElement(i.Suspense,{fallback:null},i.createElement(za,{tracks:e.items,query:n})))),[n,e]),o=`spotify:app:search:${encodeURIComponent(n)}:tracks`,m=(0,i.useCallback)((()=>{const e=l.headerFactory().titleFactory().hitUiNavigate({destination:o});r.logInteraction(e)}),[r,l,o]),c=(0,i.useCallback)((()=>{const e=l.headerFactory().seeAllFactory().hitUiNavigate({destination:o});r.logInteraction(e)}),[r,l,o]);return e.items.length?i.createElement("section",{className:H()(Ka,a),"aria-label":d.ag.get("search.title.tracks"),"data-testid":"search-tracks-result"},i.createElement("div",{className:$a},e.items.length>3?i.createElement("div",{className:Xa},i.createElement("div",{className:ja},i.createElement(me.Dy,{as:"h2",variant:"canon"},t?i.createElement(ie.r,{to:o,className:Ya,onClick:m},d.ag.get("search.title.tracks")):i.createElement("span",{className:Ya},d.ag.get("search.title.tracks")))),t&&i.createElement(Ga.SeeAll,{link:o,onClick:c})):i.createElement(me.Dy,{as:"h2",variant:"canon",className:Ya},d.ag.get("search.title.tracks"))),i.createElement(k.Nh,{spec:l},i.createElement(_e.T,{render:s}))):null},ei=({topRecommendations:e,query:n,className:a,onAddToHistory:t,position:l,showSeeAll:r})=>{const s=e.totalCount||0;return i.createElement(v.q,{index:l,id:"top-recommendations",className:a,total:s,title:d.ag.get("artist-page.featuring",e.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(n)}:topRecommendations`,showSeeAll:r},e.items.map(((e,n)=>i.createElement(w.ZP,{index:n,key:e.uri,value:"top-recommendations"},i.createElement(D,{onClick:()=>t(e),entity:e,index:n})))))},ni="iGyMsGo7FgYQQThBj2y9",ai="eITFAR9yPwhjL_2gxB09",ii="nGARy02O1AklvHT7OBLA",ti="EFHPppToKFxfm6SRhL6K",li="EbZrO5qZMclA_AaI3NV8",ri="rjgEnbv42_EUDbaiZnA2",si="FTRmZyHUkeVY_X3RawUc",di="Tx_CKMgRE8CpW5vLdpAe",oi=({topResults:e,onAddToHistory:n})=>{const[a]=e.items;return a&&i.createElement(dn.P,{total:1,className:ni,title:d.ag.get("search.title.top-result")},[i.createElement("div",{"aria-live":"polite","data-testid":"top-result-card",key:"top-result-item",className:ai},i.createElement(w.ZP,{value:"top-result-card"},i.createElement(D,{isHero:!0,index:0,onClick:()=>n(a),entity:a})))])},mi=({results:e,showSeeAll:n})=>{const{query:a,onAddToHistory:t,serpId:l}=re(),r=Ce().searchURI(a).toURI(),{spec:s,UBIFragment:d}=(0,k.fU)(Za.createDesktopSearchEventFactory,{data:{uri:r,reason:l}}),o=e.topResults.items.length>0,m=e.tracks.items.length>0,c=e.topRecommendations.items.length>0,u=(0,i.useMemo)((()=>({topResult:s.topResultFactory(),trackList:s.trackListFactory(),shelves:s.shelvesFactory()})),[s]);return i.createElement(_e.T,{className:ii,rowGap:Ue.mGT,testId:"search-results",render:l=>{let r,s;return o?r=l>3?li:ri:c&&(l>5&&m?(r=ti,s=si):(r=ri,s=di)),i.createElement(w.ZP,{value:"search-results"},o&&i.createElement(d,{spec:u.topResult},i.createElement(oi,{topResults:e.topResults,onAddToHistory:t})),m&&i.createElement(Ja,{spec:u.trackList,className:r,query:a,tracks:e.tracks,onAddToHistory:t,showSeeAll:n}),c&&i.createElement(d,{spec:u.shelves},i.createElement(ei,{position:0,query:a,className:s,topRecommendations:e.topRecommendations,onAddToHistory:t,showSeeAll:n})),en.map(((l,r)=>i.createElement(d,{spec:u.shelves,key:`search-shelf-${l}`},i.createElement(qe,{position:r+1,category:l,title:Je[l](),query:a,results:e[l],onAddToHistory:t,showSeeAll:n})))))}})},ci="khkfPsJuVBQyL_5cLT7y",ui="bJyiOTqabfm7aDjWzaY0",ki={albums:s.Wg.SEARCH_ALBUMS,artists:s.Wg.SEARCH_ARTISTS,episodes:s.Wg.SEARCH_EPISODES,genres:s.Wg.SEARCH_GENRES,playlists:s.Wg.SEARCH_PLAYLISTS,podcasts:s.Wg.SEARCH_SHOWS,audiobooks:s.Wg.SEARCH_AUDIOBOOKS,tracks:s.Wg.SEARCH_SONGS,users:s.Wg.SEARCH_PROFILES,podcastAndEpisodes:s.Wg.SEARCH_PODCASTS_AND_EPISODES,episodesFull:s.Wg.SEARCH_EPISODES},pi=({query:e,category:n})=>["spotify:app:search",e,n].filter((e=>void 0!==e)).join(":"),vi=({results:e,hasResults:n})=>i.createElement(w.ZP,{value:"search-page"},i.createElement("div",{className:"contentSpacing",id:"searchPage"},i.createElement(_e.T,{className:ci,render:()=>i.createElement(i.Fragment,null,i.createElement(Nn.w,null,i.createElement(Wa.M,null)),i.createElement(un.N,{exact:!0,path:"/search",pageId:s.Wg.FIND,entityUri:pi},i.createElement(O,null)),i.createElement(un.N,{exact:!0,path:"/recent-searches",pageId:s.Wg.SEARCH_RECENT},i.createElement(cn,null)),i.createElement(un.N,{exact:!0,path:"/search/:query",pageId:s.Wg.SEARCH,entityUri:pi},e&&n&&i.createElement(mi,{results:e}),e&&!n&&i.createElement(Ne,null)),i.createElement(un.N,{path:"/search/:query/:category",entityUri:pi,pageId:({category:e})=>ki[e]},i.createElement(Qe,null)))}))),Ni=({results:e,hasResults:n})=>i.createElement(w.ZP,{value:"search-page"},i.createElement(Nn.w,null,i.createElement(Wa.M,{isSearchChipsEnabled:!0})),i.createElement(rn,{results:e,hasResults:n}),i.createElement("div",{className:"contentSpacing",id:"searchPage"},i.createElement(_e.T,{className:ui,render:()=>i.createElement(i.Fragment,null,i.createElement(un.N,{exact:!0,path:"/search",pageId:s.Wg.FIND,entityUri:pi},i.createElement(O,null)),i.createElement(un.N,{exact:!0,path:"/recent-searches",pageId:s.Wg.SEARCH_RECENT},i.createElement(cn,null)),i.createElement(un.N,{exact:!0,path:"/search/:query",pageId:s.Wg.SEARCH,entityUri:pi},e&&n&&i.createElement(mi,{results:e,showSeeAll:!1}),e&&!n&&i.createElement(Ne,null)),i.createElement(un.N,{path:"/search/:query/:category",entityUri:pi,pageId:({category:e})=>ki[e]},e&&n&&i.createElement(Ke,{results:e}),e&&!n&&i.createElement(Ne,null)))}))),Si=i.memo((function(){const e=(0,r.W6)(p.uB),n=(0,r.W6)(p.SU),[{category:a,query:t},s]=(0,Ba.l)();(0,Sn.z)("search");const[o,m]=(0,i.useState)(null),c=null!==o&&void 0!==Object.keys(o).find((e=>"chipOrder"!==e&&o[e].items.length>0)),u=(0,i.useMemo)((()=>new La((0,pn.PQ)(kn.b.getInstance()))),[]),{searchHistory:k,setSearchHistory:v}=(0,q.u)(),N=(0,i.useCallback)((async(e,i=!1)=>{e===t&&c||(n?s(e,a,!1):(m(null),s(e,null,i)))}),[t,a,c,n,s]);(0,i.useEffect)((()=>{(async()=>{t&&(!n&&a||m(await u.getSearchResults(t,e)))})()}),[t,a,u,e,n]),(0,i.useEffect)((()=>{t||m(null)}),[t]);const S=(0,i.useMemo)((()=>l().create().toString()),[a,t]),g={api:u,category:a,query:t,onAddToHistory:e=>{v([e,...k])},onSearchRequest:N,serpId:S};return i.createElement(le,{value:g},i.createElement(vn.$,null,d.ag.get("search.page-title")),n?i.createElement(Ni,{results:o,hasResults:c}):i.createElement(vi,{results:o,hasResults:c}))})),gi=Si},47917:(e,n,a)=>{a.d(n,{V:()=>R,e:()=>D});var i=a(67294),t=a(86706),l=a(69518),r=a.n(l),s=a(33702),d=a(84629),o=a(43914),m=a(25988),c=a(68556),u=a(95806),k=a(99191),p=a(56802),v=a(38894),N=a(80219),S=a(18261),g=a(62975),y=a(87257),f=a(57978),h=a(75016),b=a(42922),E=a(18864),F=a(52759),I=a(54444),T=a(7073),C=a(84788);function D(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const A=e=>`activation-trigger-mme-${e}`,R=i.memo((function({index:e=-1,showMetadata:n,episode:a,usePlayContextItem:l,status:R,variant:V}){const x=(0,t.oR)().getState().platform?.isBrowser,w=a.playedState.playPositionMilliseconds,q=a.uri,P=(0,i.useRef)(null),[O,U]=(0,i.useState)(a.playedState.state===T.sY.Completed),H=(0,k.O1)(),_=(0,v.g)(),M=(0,E.jh)(),L=(0,p.o)(),B=(0,t.I0)(),{UBIFragment:W,spec:Z,logger:G}=(0,I.fU)(s.createDesktopEpisodeBlockEventFactory,{data:{uri:q,reason:a.requestId||"",position:e}}),z=(0,I.Wi)(Z),{isActive:$,isPlaying:X,togglePlay:j}=l({uri:q}),[Y]=(0,F.z)(1e4,(e=>e?.item?.uri===q));(0,i.useEffect)((()=>{X&&(P.current=Y)}),[X,Y]),(0,i.useEffect)((()=>{!X&&P.current&&a.duration.milliseconds<=P.current&&U(!0)}),[X,a.duration.milliseconds]);const K=(0,i.useCallback)((e=>{e||(P.current=0),U(e)}),[]),Q=D(n),J=(0,N.s)({...a,coverArt:{sources:a.coverArt}},Q),ee=(0,i.useCallback)((()=>{if(a.episodeType===T.Wf.Episode&&x)g.y.set((()=>({triggerId:A(a.uri),triggerAction:null})));else if(_)J();else{let e;e=X?Z.playButtonFactory().hitPause({itemToBePaused:q}):$?Z.playButtonFactory().hitResume({itemToBeResumed:q}):Z.playButtonFactory().hitPlay({itemToBePlayed:q});const n=G.logInteraction(e);L({targetUri:q,intent:X?"pause":"play",type:"click"}),j({loggingParams:n})}}),[$,J,L,j,q,X,_,a,x,G,Z]),ne=(0,i.useCallback)((()=>{G.logInteraction(Z.hitUiNavigate({destination:q})),L({type:"click",targetUri:q,intent:"navigate"})}),[q,L,G,Z]),ae=a.podcastSubscription?.isPaywalled??!1,ie=a.podcastSubscription?.isUserSubscribed??!1,te=ae&&!ie,le=ae&&_,{badges:re}=(0,C.r)({contentRating:a.contentRating?.label,isPaywalled:ae}),se=(0,i.useCallback)((()=>B((0,d.RM)(n.uri))),[n.uri,B]),de=(0,i.useCallback)((e=>{let t=e;return(te||le)&&(t=i.createElement(u.l,{enabled:!0,showUri:n.uri},t)),!a.playability.playable&&re.nineteen&&(t=i.createElement("div",{onClick:e=>{e.stopPropagation(),se()}},e)),t=i.createElement(o.D,{id:A(q),targetURI:r().from(q)},t),t}),[q,te,le,n.uri,re.nineteen,a.playability.playable,se]);return i.createElement(W,{spec:Z},i.createElement(b.ZP,{value:"row",index:e},i.createElement(S._,{onShow:()=>{G.logInteraction(Z.secondaryHitUiReveal())},menu:i.createElement(m.k,{uri:q,showUri:n.uri,sharingInfo:a.sharingInfo,isPlayed:O,onMarkAsPlayed:K})},i.createElement(c.X,{ref:z,requestId:a.requestId,index:e,uri:q,size:M,images:a.coverArt||[],name:a.name,showName:n.name,description:a.description,isPlayable:a.playability.playable||te,fullyPlayed:O,durationMs:a.duration.milliseconds,releaseDate:a.releaseDate?.isoString||"",resumePositionMs:P.current??w,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const i=`${a.name} • ${n.name}`;H(e,[q],i,n.uri)},handlePlaybackClick:ee,handleClick:ne,isCurrentlyPlaying:$,isPaywalled:ae,isUserSubscribed:ie,isPlaying:X,position:X?Y:void 0,episodeSharingInfo:a.sharingInfo,onMarkAsPlayed:K,contentInformation:a.contentInformation,badges:i.createElement(i.Fragment,null,re.explicit&&i.createElement(y.N,null),re.paid&&i.createElement(h.g,null),re.nineteen&&i.createElement(f.X,{size:16})),playButtonWrapper:de,onMoreButtonClick:()=>{G.logInteraction(Z.moreButtonFactory().hitUiReveal())},status:R,variant:V}))))}))},80219:(e,n,a)=>{a.d(n,{s:()=>u});var i=a(67294),t=a(56802);const l=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function r(e,n){return e.filter((e=>e.label?e.label===n:e.width?l(e.width)===n:!!e.height&&l(e.height)===n))[0]}var s=a(67789);function d(e){const n=r(e,"standard"),a=r(e,"large"),i=r(e,"small"),t=r(e,"xlarge");return{image_url:n?.url,image_height:n?.height?.toString(),image_width:n?.width?.toString(),image_url_large:a?.url,image_height_large:a?.height?.toString(),image_width_large:a?.width?.toString(),image_url_small:i?.url,image_height_small:i?.height?.toString(),image_width_small:i?.width?.toString(),image_url_xlarge:t?.url,image_height_xlarge:t?.height?.toString(),image_width_xlarge:t?.width?.toString()}}var o=a(23716),m=a(69691),c=a(42781);function u(e,n){const a=(0,t.o)(),l=(0,o.g)(),{isPlaying:r,isActive:u}=(0,m.$o)(e?.uri||""),{isActive:k}=(0,m.cR)(n?.uri||"");return(0,i.useCallback)((i=>{if(!n||!e)return;const t=function(e,n){const a=(e.coverArt?.sources||[]).sort(((e,n)=>(n.width||0)-(e.width||0))),i=(0,s.Xb)(e,n),t=(0,s.Ie)(n)||i;return{uri:e.uri,title:e.name,subtitle:n.name,type:"episode",album_uri:n.uri,album_title:n.name,artist_uri:n.uri,artist_name:n.name,...d(a),media_type:"audio",externalResolvedUrl:e.audio?.items?.find((e=>e.externallyHosted))?.url,isTrailer:i,anonymousPlaybackAllowed:t}}(e,n);k&&!r&&u&&!i?l.resume():k&&r&&!i?(a({type:"click",intent:"pause",targetUri:e.uri}),l.pause()):(a({type:"click",intent:"play",targetUri:e.uri}),l.play({uri:n.uri,pages:[{items:[{type:c.p.EPISODE,uri:e.uri,uid:null,metadata:t,provider:null}]}]},{referrerIdentifier:l.getReferrer(),featureIdentifier:"episode"},i))}),[u,r,k,l,a,n,e])}},47991:(e,n,a)=>{a.d(n,{$:()=>i});const i=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-search.js.map